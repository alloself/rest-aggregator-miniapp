<?php

namespace Database\Seeders;

use App\Models\Event;
use App\Models\Restaurant;
use Illuminate\Database\Seeder;

class EventSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // Находим ресторан Gretto
        $grettoRestaurant = Restaurant::where('slug', 'gretto')->first();

        if (!$grettoRestaurant) {
            $this->command->error('Ресторан Gretto не найден. Убедитесь, что RestaurantSeeder выполнен.');
            return;
        }

        // Создаем события для ресторана Gretto
        $eventsData = [
            [
                'title' => 'Вечер живой музыки',
                'slug' => 'vecher-zhivoj-muzyki',
                'subtitle' => 'Джазовый вечер с известными музыкантами',
                'start_at' => '2024-07-15 19:00:00',
                'price' => 2500.00,

                'description' => 'Приглашаем на незабываемый вечер живой джазовой музыки! Выступят известные музыканты города, исполняющие классические джазовые композиции и современные интерпретации. Вечер будет сопровождаться дегустационным меню от шеф-повара и авторскими коктейлями от лучших барменов. Начало в 19:00, бронирование столиков обязательно.',
                'order' => 1,
            ],
            [
                'title' => 'Кулинарный мастер-класс',
                'slug' => 'kulinarnyj-master-klass',
                'subtitle' => 'Секреты приготовления итальянской пасты',
                'start_at' => '2024-07-20 18:30:00',
                'price' => 3500.00,

                'description' => 'Интерактивный мастер-класс от шеф-повара Марко Росси. Вы научитесь готовить настоящую итальянскую пасту с нуля, узнаете секреты приготовления различных соусов и получите эксклюзивные рецепты. В стоимость входят все ингредиенты, фартук, ужин и бокал вина. Количество мест ограничено - 12 участников.',
                'order' => 2,
            ],
            [
                'title' => 'Винная дегустация',
                'slug' => 'vinnaya-degustaciya-event',
                'subtitle' => 'Вина Тосканы с сомелье',
                'start_at' => '2024-07-25 19:30:00',
                'price' => 4200.00,

                'description' => 'Эксклюзивная дегустация вин из региона Тоскана под руководством профессионального сомелье. В программе: дегустация 6 сортов вин, рассказ о терруаре и винодельческих традициях, сочетание с изысканными закусками от шеф-повара. Вы узнаете, как правильно дегустировать вино и подбирать его к различным блюдам.',
                'order' => 3,
            ],
            [
                'title' => 'Романтический ужин для двоих',
                'slug' => 'romanticheskij-uzhin',
                'subtitle' => 'Вечер при свечах с живой музыкой',
                'start_at' => '2024-08-14 20:00:00',
                'price' => 8500.00,

                'description' => 'Специальное предложение ко Дню влюбленных! Романтический ужин при свечах в приватной зоне ресторана. Дегустационное меню из 7 блюд, живая музыка, декор из роз и свечей, комплимент от ресторана. Идеальное предложение для празднования годовщины, предложения руки и сердца или просто романтического вечера.',
                'order' => 4,
            ],
            [
                'title' => 'Бранч выходного дня',
                'slug' => 'branch-vykhodnogo-dnya',
                'subtitle' => 'Семейный бранч с развлечениями',
                'start_at' => '2024-07-28 11:00:00',
                'price' => 1800.00,

                'description' => 'Семейный бранч с богатым шведским столом, живой кулинарной станцией и развлекательной программой для детей. Профессиональный аниматор проведет мастер-классы по изготовлению пиццы для малышей, пока родители наслаждаются изысканными блюдами и свежесваренным кофе. Время проведения: с 11:00 до 15:00.',
                'order' => 5,
            ],
            [
                'title' => 'Тематический ужин "Вкусы Италии"',
                'slug' => 'tematicheskij-uzhin-italy',
                'subtitle' => 'Путешествие по регионам Италии',
                'start_at' => '2024-08-05 19:00:00',
                'price' => 5500.00,

                'description' => 'Кулинарное путешествие по различным регионам Италии. Каждое блюдо представляет отдельный регион с его уникальными традициями и вкусами. Вечер сопровождается рассказами о культуре и истории итальянской кухни, дегустацией региональных вин и традиционной музыкой. Меню включает 8 блюд и 4 сорта вина.',
                'order' => 6,
            ],
        ];

        foreach ($eventsData as $event) {
            Event::create([
                'title' => $event['title'],
                'slug' => $event['slug'],
                'subtitle' => $event['subtitle'],
                'start_at' => $event['start_at'],
                'price' => $event['price'],

                'description' => $event['description'],
                'order' => $event['order'],
                'restaurant_id' => $grettoRestaurant->id,
            ]);
        }

        $this->command->info('Создано ' . count($eventsData) . ' событий для ресторана Gretto.');
    }
}
