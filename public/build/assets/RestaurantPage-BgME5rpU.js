import{B as tt,W as jt,f as Ut,h as qt,j as le,m as ge,d as Te,s as ue,u as Yt}from"./vue-router-DFDG6GKq.js";import{M as ve,d as V,c as z,b as Y,Y as Xt,w as ee,l as ce,u as M,e as w,m as Z,g as S,j as _,t as H,v as fe,y as Kt,h as G,f as L,s as Oe,z as Zt,Z as me,_ as we,i as Qt,n as ke,r as R,F as te,q as ae,A as D,o as Ve,a as st,$ as ot,k as Qe,N as Ae,a0 as Jt,a1 as es,a2 as ts,a3 as xe,a4 as yt,O as ss}from"./runtime-dom.esm-bundler-DAH50JVu.js";import{p as ns,u as pe}from"./main-Bd28yPZZ.js";import{_ as ie}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{d as _e}from"./dayjs-KffbJbER.js";import{I as U}from"./Icon-C5-2DYUL.js";import{b as is,e as $e,F as rs,s as as,a as os,c as nt,u as lt,x as We,d as ls,f as cs,g as ds}from"./index-BLyooVs9.js";import{s as us}from"./index-B9h1hD50.js";import{s as ps}from"./index-C2RBA-0b.js";import{s as fs}from"./index-CmRYn6V5.js";const ye=()=>({trigger:(e=15)=>{if(typeof window>"u")return;const s=window.Telegram;if(s?.WebApp?.HapticFeedback?.impactOccurred){s.WebApp.HapticFeedback.impactOccurred("light");return}const n=typeof window.matchMedia=="function"&&window.matchMedia("(pointer: coarse)").matches,r="maxTouchPoints"in navigator&&navigator.maxTouchPoints>0,i=navigator;(n||r)&&typeof i.vibrate=="function"&&i.vibrate(e)}}),ms="#FFFEFD",hs="#EEEEEE",gs="#EBEBEB",vs="#FFFEFB";function wt(t){const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}function ys(t,e){const s=wt(t);return s?`rgba(${s.r}, ${s.g}, ${s.b}, ${e})`:`rgba(235, 235, 235, ${e})`}function ct(t,e){const s=wt(t);if(!s)return t;const n=Math.max(0,s.r-e),r=Math.max(0,s.g-e),i=Math.max(0,s.b-e);return`#${n.toString(16).padStart(2,"0")}${r.toString(16).padStart(2,"0")}${i.toString(16).padStart(2,"0")}`}function ws(t){const e=document.documentElement;if(!t){e.style.removeProperty("--color-bg-primary"),e.style.removeProperty("--color-bg-secondary"),e.style.removeProperty("--color-secondary"),e.style.removeProperty("--color-bg-secondary-hover"),e.style.removeProperty("--color-bg-secondary-active"),e.style.removeProperty("--color-bg-card"),e.style.removeProperty("--color-surface-cool"),e.style.removeProperty("--color-accent-secondary");return}const s=t.primary_color??ms,n=t.secondary_color??hs,r=t.tertiary_color??gs,i=t.background_color??vs;e.style.setProperty("--color-bg-primary",i),e.style.setProperty("--color-bg-secondary",n),e.style.setProperty("--color-secondary",n),e.style.setProperty("--color-bg-secondary-hover",ct(n,15)),e.style.setProperty("--color-bg-secondary-active",ct(n,25)),e.style.setProperty("--color-bg-card",s),e.style.setProperty("--color-surface-cool",ys(r,.38)),e.style.setProperty("--color-accent-secondary",s)}function bs(t){ve(t,e=>{ws(e??null)},{immediate:!0})}const Be=V({__name:"AppButton",props:{variant:{default:"primary"},size:{default:"medium"},fullWidth:{type:Boolean,default:!1}},emits:["click"],setup(t,{emit:e}){const s=e,n=z(()=>{const a=`app-button--size-${t.size}`,o=t.fullWidth?"app-button--full":"";return[a,o].filter(Boolean).join(" ")}),{trigger:r}=ye(),i=a=>{r(),s("click",a)};return(a,o)=>(w(),Y(M(is),{class:ce(n.value),severity:a.variant,onClick:i},Xt({default:ee(()=>[Z(a.$slots,"default")]),_:2},[a.$slots.icon?{name:"icon",fn:ee(()=>[Z(a.$slots,"icon")]),key:"0"}:void 0]),1032,["class","severity"]))}});var bt={name:"RefreshIcon",extends:$e};function _s(t,e,s,n,r,i){return w(),S("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),e[0]||(e[0]=[_("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.77051 5.96336C6.84324 5.99355 6.92127 6.00891 7.00002 6.00854C7.07877 6.00891 7.1568 5.99355 7.22953 5.96336C7.30226 5.93317 7.36823 5.88876 7.42357 5.83273L9.82101 3.43529C9.93325 3.32291 9.99629 3.17058 9.99629 3.01175C9.99629 2.85292 9.93325 2.70058 9.82101 2.5882L7.42357 0.190763C7.3687 0.131876 7.30253 0.0846451 7.22901 0.0518865C7.15549 0.019128 7.07612 0.00151319 6.99564 9.32772e-05C6.91517 -0.00132663 6.83523 0.0134773 6.7606 0.0436218C6.68597 0.0737664 6.61817 0.118634 6.56126 0.175548C6.50435 0.232462 6.45948 0.300257 6.42933 0.374888C6.39919 0.449519 6.38439 0.529456 6.38581 0.609933C6.38722 0.690409 6.40484 0.769775 6.4376 0.843296C6.47036 0.916817 6.51759 0.982986 6.57647 1.03786L7.95103 2.41241H6.99998C5.46337 2.41241 3.98969 3.02283 2.90314 4.10938C1.81659 5.19593 1.20618 6.66961 1.20618 8.20622C1.20618 9.74283 1.81659 11.2165 2.90314 12.3031C3.98969 13.3896 5.46337 14 6.99998 14C8.53595 13.9979 10.0084 13.3868 11.0945 12.3007C12.1806 11.2146 12.7917 9.74218 12.7938 8.20622C12.7938 8.04726 12.7306 7.89481 12.6182 7.78241C12.5058 7.67001 12.3534 7.60686 12.1944 7.60686C12.0355 7.60686 11.883 7.67001 11.7706 7.78241C11.6582 7.89481 11.5951 8.04726 11.5951 8.20622C11.5951 9.11504 11.3256 10.0035 10.8207 10.7591C10.3157 11.5148 9.59809 12.1037 8.75845 12.4515C7.9188 12.7993 6.99489 12.8903 6.10353 12.713C5.21217 12.5357 4.3934 12.0981 3.75077 11.4554C3.10813 10.8128 2.67049 9.99404 2.49319 9.10268C2.31589 8.21132 2.40688 7.2874 2.75468 6.44776C3.10247 5.60811 3.69143 4.89046 4.44709 4.38554C5.20275 3.88063 6.09116 3.61113 6.99998 3.61113H7.95098L6.57647 4.98564C6.46423 5.09802 6.40119 5.25035 6.40119 5.40918C6.40119 5.56801 6.46423 5.72035 6.57647 5.83273C6.63181 5.88876 6.69778 5.93317 6.77051 5.96336Z",fill:"currentColor"},null,-1)]),16)}bt.render=_s;var _t={name:"SearchMinusIcon",extends:$e};function Ss(t,e,s,n,r,i){return w(),S("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),e[0]||(e[0]=[_("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.0208 12.0411C4.83005 12.0411 3.66604 11.688 2.67596 11.0265C1.68589 10.3649 0.914216 9.42464 0.458534 8.32452C0.00285271 7.22441 -0.116374 6.01388 0.11593 4.84601C0.348235 3.67813 0.921637 2.60537 1.76363 1.76338C2.60562 0.921393 3.67838 0.34799 4.84625 0.115686C6.01412 -0.116618 7.22466 0.00260857 8.32477 0.45829C9.42488 0.913972 10.3652 1.68564 11.0267 2.67572C11.6883 3.66579 12.0414 4.8298 12.0414 6.02056C12.0395 7.41563 11.5542 8.76029 10.6783 9.8305L13.8244 12.9765C13.9367 13.089 13.9997 13.2414 13.9997 13.4003C13.9997 13.5592 13.9367 13.7116 13.8244 13.8241C13.769 13.8801 13.703 13.9245 13.6302 13.9548C13.5575 13.985 13.4794 14.0003 13.4006 14C13.3218 14.0003 13.2437 13.985 13.171 13.9548C13.0982 13.9245 13.0322 13.8801 12.9768 13.8241L9.83082 10.678C8.76059 11.5539 7.4159 12.0393 6.0208 12.0411ZM6.0208 1.20731C5.07199 1.20731 4.14449 1.48867 3.35559 2.0158C2.56669 2.54292 1.95181 3.29215 1.58872 4.16874C1.22562 5.04532 1.13062 6.00989 1.31572 6.94046C1.50083 7.87104 1.95772 8.72583 2.62863 9.39674C3.29954 10.0676 4.15433 10.5245 5.0849 10.7096C6.01548 10.8947 6.98005 10.7997 7.85663 10.4367C8.73322 10.0736 9.48244 9.45868 10.0096 8.66978C10.5367 7.88088 10.8181 6.95337 10.8181 6.00457C10.8181 4.73226 10.3126 3.51206 9.41297 2.6124C8.51331 1.71274 7.29311 1.20731 6.0208 1.20731ZM4.00591 6.60422H8.00362C8.16266 6.60422 8.31518 6.54104 8.42764 6.42859C8.5401 6.31613 8.60328 6.1636 8.60328 6.00456C8.60328 5.84553 8.5401 5.693 8.42764 5.58054C8.31518 5.46809 8.16266 5.40491 8.00362 5.40491H4.00591C3.84687 5.40491 3.69434 5.46809 3.58189 5.58054C3.46943 5.693 3.40625 5.84553 3.40625 6.00456C3.40625 6.1636 3.46943 6.31613 3.58189 6.42859C3.69434 6.54104 3.84687 6.60422 4.00591 6.60422Z",fill:"currentColor"},null,-1)]),16)}_t.render=Ss;var St={name:"SearchPlusIcon",extends:$e};function Cs(t,e,s,n,r,i){return w(),S("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),e[0]||(e[0]=[_("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2.67596 11.0265C3.66604 11.688 4.83005 12.0411 6.0208 12.0411C6.81143 12.0411 7.59432 11.8854 8.32477 11.5828C8.86999 11.357 9.37802 11.0526 9.83311 10.6803L12.9768 13.8241C13.0322 13.8801 13.0982 13.9245 13.171 13.9548C13.2437 13.985 13.3218 14.0003 13.4006 14C13.4794 14.0003 13.5575 13.985 13.6302 13.9548C13.703 13.9245 13.769 13.8801 13.8244 13.8241C13.9367 13.7116 13.9997 13.5592 13.9997 13.4003C13.9997 13.2414 13.9367 13.089 13.8244 12.9765L10.6806 9.8328C11.0529 9.37773 11.3572 8.86972 11.5831 8.32452C11.8856 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0267 2.67572C10.3652 1.68564 9.42488 0.913972 8.32477 0.45829C7.22466 0.00260857 6.01412 -0.116618 4.84625 0.115686C3.67838 0.34799 2.60562 0.921393 1.76363 1.76338C0.921637 2.60537 0.348235 3.67813 0.11593 4.84601C-0.116374 6.01388 0.00285271 7.22441 0.458534 8.32452C0.914216 9.42464 1.68589 10.3649 2.67596 11.0265ZM3.35559 2.0158C4.14449 1.48867 5.07199 1.20731 6.0208 1.20731C7.29311 1.20731 8.51331 1.71274 9.41297 2.6124C10.3126 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5367 7.88088 10.0096 8.66978C9.48244 9.45868 8.73322 10.0736 7.85663 10.4367C6.98005 10.7997 6.01548 10.8947 5.0849 10.7096C4.15433 10.5245 3.29954 10.0676 2.62863 9.39674C1.95772 8.72583 1.50083 7.87104 1.31572 6.94046C1.13062 6.00989 1.22562 5.04532 1.58872 4.16874C1.95181 3.29215 2.56669 2.54292 3.35559 2.0158ZM6.00481 8.60309C5.84641 8.60102 5.69509 8.53718 5.58308 8.42517C5.47107 8.31316 5.40722 8.16183 5.40515 8.00344V6.60422H4.00591C3.84687 6.60422 3.69434 6.54104 3.58189 6.42859C3.46943 6.31613 3.40625 6.1636 3.40625 6.00456C3.40625 5.84553 3.46943 5.693 3.58189 5.58054C3.69434 5.46809 3.84687 5.40491 4.00591 5.40491H5.40515V4.00572C5.40515 3.84668 5.46833 3.69416 5.58079 3.5817C5.69324 3.46924 5.84577 3.40607 6.00481 3.40607C6.16385 3.40607 6.31637 3.46924 6.42883 3.5817C6.54129 3.69416 6.60447 3.84668 6.60447 4.00572V5.40491H8.00362C8.16266 5.40491 8.31518 5.46809 8.42764 5.58054C8.5401 5.693 8.60328 5.84553 8.60328 6.00456C8.60328 6.1636 8.5401 6.31613 8.42764 6.42859C8.31518 6.54104 8.16266 6.60422 8.00362 6.60422H6.60447V8.00344C6.60239 8.16183 6.53855 8.31316 6.42654 8.42517C6.31453 8.53718 6.1632 8.60102 6.00481 8.60309Z",fill:"currentColor"},null,-1)]),16)}St.render=Cs;var Ct={name:"UndoIcon",extends:$e};function Ts(t,e,s,n,r,i){return w(),S("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),e[0]||(e[0]=[_("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M6.77042 5.96336C6.84315 5.99355 6.92118 6.00891 6.99993 6.00854C7.07868 6.00891 7.15671 5.99355 7.22944 5.96336C7.30217 5.93317 7.36814 5.88876 7.42348 5.83273C7.53572 5.72035 7.59876 5.56801 7.59876 5.40918C7.59876 5.25035 7.53572 5.09802 7.42348 4.98564L6.04897 3.61113H6.99998C7.9088 3.61113 8.79722 3.88063 9.55288 4.38554C10.3085 4.89046 10.8975 5.60811 11.2453 6.44776C11.5931 7.2874 11.6841 8.21132 11.5068 9.10268C11.3295 9.99404 10.8918 10.8128 10.2492 11.4554C9.60657 12.0981 8.7878 12.5357 7.89644 12.713C7.00508 12.8903 6.08116 12.7993 5.24152 12.4515C4.40188 12.1037 3.68422 11.5148 3.17931 10.7591C2.67439 10.0035 2.4049 9.11504 2.4049 8.20622C2.4049 8.04726 2.34175 7.89481 2.22935 7.78241C2.11695 7.67001 1.9645 7.60686 1.80554 7.60686C1.64658 7.60686 1.49413 7.67001 1.38172 7.78241C1.26932 7.89481 1.20618 8.04726 1.20618 8.20622C1.20829 9.74218 1.81939 11.2146 2.90548 12.3007C3.99157 13.3868 5.46402 13.9979 6.99998 14C8.5366 14 10.0103 13.3896 11.0968 12.3031C12.1834 11.2165 12.7938 9.74283 12.7938 8.20622C12.7938 6.66961 12.1834 5.19593 11.0968 4.10938C10.0103 3.02283 8.5366 2.41241 6.99998 2.41241H6.04892L7.42348 1.03786C7.48236 0.982986 7.5296 0.916817 7.56235 0.843296C7.59511 0.769775 7.61273 0.690409 7.61415 0.609933C7.61557 0.529456 7.60076 0.449519 7.57062 0.374888C7.54047 0.300257 7.49561 0.232462 7.43869 0.175548C7.38178 0.118634 7.31398 0.0737664 7.23935 0.0436218C7.16472 0.0134773 7.08478 -0.00132663 7.00431 9.32772e-05C6.92383 0.00151319 6.84447 0.019128 6.77095 0.0518865C6.69742 0.0846451 6.63126 0.131876 6.57638 0.190763L4.17895 2.5882C4.06671 2.70058 4.00366 2.85292 4.00366 3.01175C4.00366 3.17058 4.06671 3.32291 4.17895 3.43529L6.57638 5.83273C6.63172 5.88876 6.69769 5.93317 6.77042 5.96336Z",fill:"currentColor"},null,-1)]),16)}Ct.render=Ts;var ks=`
    .p-image-mask {
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .p-image-preview {
        position: relative;
        display: inline-flex;
        line-height: 0;
    }

    .p-image-preview-mask {
        position: absolute;
        inset-inline-start: 0;
        inset-block-start: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s;
        border: 0 none;
        padding: 0;
        cursor: pointer;
        background: transparent;
        color: dt('image.preview.mask.color');
        transition: background dt('image.transition.duration');
    }

    .p-image-preview:hover > .p-image-preview-mask {
        opacity: 1;
        cursor: pointer;
        background: dt('image.preview.mask.background');
    }

    .p-image-preview-icon {
        font-size: dt('image.preview.icon.size');
        width: dt('image.preview.icon.size');
        height: dt('image.preview.icon.size');
    }

    .p-image-toolbar {
        position: absolute;
        inset-block-start: dt('image.toolbar.position.top');
        inset-inline-end: dt('image.toolbar.position.right');
        inset-inline-start: dt('image.toolbar.position.left');
        inset-block-end: dt('image.toolbar.position.bottom');
        display: flex;
        z-index: 1;
        padding: dt('image.toolbar.padding');
        background: dt('image.toolbar.background');
        backdrop-filter: blur(dt('image.toolbar.blur'));
        border-color: dt('image.toolbar.border.color');
        border-style: solid;
        border-width: dt('image.toolbar.border.width');
        border-radius: dt('image.toolbar.border.radius');
        gap: dt('image.toolbar.gap');
    }

    .p-image-action {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        color: dt('image.action.color');
        background: transparent;
        width: dt('image.action.size');
        height: dt('image.action.size');
        margin: 0;
        padding: 0;
        border: 0 none;
        cursor: pointer;
        user-select: none;
        border-radius: dt('image.action.border.radius');
        outline-color: transparent;
        transition:
            background dt('image.transition.duration'),
            color dt('image.transition.duration'),
            outline-color dt('image.transition.duration'),
            box-shadow dt('image.transition.duration');
    }

    .p-image-action:hover {
        color: dt('image.action.hover.color');
        background: dt('image.action.hover.background');
    }

    .p-image-action:focus-visible {
        box-shadow: dt('image.action.focus.ring.shadow');
        outline: dt('image.action.focus.ring.width') dt('image.action.focus.ring.style') dt('image.action.focus.ring.color');
        outline-offset: dt('image.action.focus.ring.offset');
    }

    .p-image-action .p-icon {
        font-size: dt('image.action.icon.size');
        width: dt('image.action.icon.size');
        height: dt('image.action.icon.size');
    }

    .p-image-action.p-disabled {
        pointer-events: auto;
    }

    .p-image-original {
        transition: transform 0.15s;
        max-width: 100vw;
        max-height: 100vh;
    }

    .p-image-original-enter-active {
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-image-original-leave-active {
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .p-image-original-enter-from,
    .p-image-original-leave-to {
        opacity: 0;
        transform: scale(0.7);
    }
`,xs={root:function(e){var s=e.props;return["p-image p-component",{"p-image-preview":s.preview}]},previewMask:"p-image-preview-mask",previewIcon:"p-image-preview-icon",mask:"p-image-mask p-overlay-mask p-overlay-mask-enter",toolbar:"p-image-toolbar",rotateRightButton:"p-image-action p-image-rotate-right-button",rotateLeftButton:"p-image-action p-image-rotate-left-button",zoomOutButton:function(e){var s=e.instance;return["p-image-action p-image-zoom-out-button",{"p-disabled":s.isZoomOutDisabled}]},zoomInButton:function(e){var s=e.instance;return["p-image-action p-image-zoom-in-button",{"p-disabled":s.isZoomInDisabled}]},closeButton:"p-image-action p-image-close-button",original:"p-image-original"},$s=tt.extend({name:"image",style:ks,classes:xs}),Es={name:"BaseImage",extends:nt,props:{preview:{type:Boolean,default:!1},class:{type:null,default:null},style:{type:null,default:null},imageStyle:{type:null,default:null},imageClass:{type:null,default:null},previewButtonProps:{type:null,default:null},indicatorIcon:{type:String,default:void 0},previewIcon:{type:String,default:void 0},zoomInDisabled:{type:Boolean,default:!1},zoomOutDisabled:{type:Boolean,default:!1}},style:$s,provide:function(){return{$pcImage:this,$parentInstance:this}}},Tt={name:"Image",extends:Es,inheritAttrs:!1,emits:["show","hide","error"],mask:null,data:function(){return{maskVisible:!1,previewVisible:!1,rotate:0,scale:1}},beforeUnmount:function(){this.mask&&We.clear(this.container)},methods:{maskRef:function(e){this.mask=e},toolbarRef:function(e){this.toolbarRef=e},onImageClick:function(){var e=this;this.preview&&(ls(),this.maskVisible=!0,setTimeout(function(){e.previewVisible=!0},25))},onPreviewImageClick:function(){this.previewClick=!0},onMaskClick:function(e){var s=qt(e.target,"data-pc-section-group","action")||e.target.closest('[data-pc-section-group="action"]');!this.previewClick&&!s&&(this.previewVisible=!1,this.rotate=0,this.scale=1),this.previewClick=!1},onMaskKeydown:function(e){var s=this;switch(e.code){case"Escape":this.hidePreview(),setTimeout(function(){Ut(s.$refs.previewButton)},200),e.preventDefault();break}},onError:function(){this.$emit("error")},rotateRight:function(){this.rotate+=90,this.previewClick=!0},rotateLeft:function(){this.rotate-=90,this.previewClick=!0},zoomIn:function(){this.scale=this.scale+.1,this.previewClick=!0},zoomOut:function(){this.scale=this.scale-.1,this.previewClick=!0},onBeforeEnter:function(){We.set("modal",this.mask,this.$primevue.config.zIndex.modal)},onEnter:function(){this.focus(),this.$emit("show")},onBeforeLeave:function(){!this.isUnstyled&&jt(this.mask,"p-overlay-mask-leave")},onLeave:function(){lt(),this.$emit("hide")},onAfterLeave:function(e){We.clear(e),this.maskVisible=!1},focus:function(){var e=this.mask.querySelector("[autofocus]");e&&e.focus()},hidePreview:function(){this.previewVisible=!1,this.rotate=0,this.scale=1,lt()}},computed:{containerClass:function(){return[this.cx("root"),this.class]},rotateClass:function(){return"p-image-preview-rotate-"+this.rotate},imagePreviewStyle:function(){return{transform:"rotate("+this.rotate+"deg) scale("+this.scale+")"}},isZoomInDisabled:function(){return this.zoomInDisabled||this.scale>=1.5},isZoomOutDisabled:function(){return this.zoomOutDisabled||this.scale<=.5},rightAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateRight:void 0},leftAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.rotateLeft:void 0},zoomInAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomIn:void 0},zoomOutAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomOut:void 0},zoomImageAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.zoomImage:void 0},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0}},components:{Portal:os,EyeIcon:ps,RefreshIcon:bt,UndoIcon:Ct,SearchMinusIcon:_t,SearchPlusIcon:St,TimesIcon:as},directives:{focustrap:rs}};function Se(t){"@babel/helpers - typeof";return Se=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Se(t)}function dt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),s.push.apply(s,n)}return s}function Me(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?dt(Object(s),!0).forEach(function(n){Ms(t,n,s[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):dt(Object(s)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(s,n))})}return t}function Ms(t,e,s){return(e=Is(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Is(t){var e=Ps(t,"string");return Se(e)=="symbol"?e:e+""}function Ps(t,e){if(Se(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Se(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ls=["aria-label"],As=["aria-modal"],Bs=["aria-label"],zs=["aria-label"],Os=["disabled","aria-label"],Ds=["disabled","aria-label"],Fs=["aria-label"],Rs=["src"];function Gs(t,e,s,n,r,i){var a=fe("RefreshIcon"),o=fe("UndoIcon"),c=fe("SearchMinusIcon"),l=fe("SearchPlusIcon"),p=fe("TimesIcon"),f=fe("Portal"),h=Kt("focustrap");return w(),S("span",H({class:i.containerClass,style:t.style},t.ptmi("root")),[Z(t.$slots,"image",{errorCallback:i.onError},function(){return[_("img",H({style:t.imageStyle,class:t.imageClass,onError:e[0]||(e[0]=function(){return i.onError&&i.onError.apply(i,arguments)})},Me(Me({},t.$attrs),t.ptm("image"))),null,16)]}),t.preview?(w(),S("button",H({key:0,ref:"previewButton","aria-label":i.zoomImageAriaLabel,type:"button",class:t.cx("previewMask"),onClick:e[1]||(e[1]=function(){return i.onImageClick&&i.onImageClick.apply(i,arguments)})},Me(Me({},t.previewButtonProps),t.ptm("previewMask"))),[Z(t.$slots,t.$slots.previewicon?"previewicon":"indicatoricon",{},function(){return[(w(),Y(Oe(t.previewIcon||t.indicatorIcon?"i":"EyeIcon"),H({class:[t.cx("previewIcon"),t.previewIcon]},t.ptm("previewIcon")),null,16,["class"]))]})],16,Ls)):G("",!0),L(f,null,{default:ee(function(){return[r.maskVisible?Zt((w(),S("div",H({key:0,ref:i.maskRef,role:"dialog",class:t.cx("mask"),"aria-modal":r.maskVisible,onClick:e[8]||(e[8]=function(){return i.onMaskClick&&i.onMaskClick.apply(i,arguments)}),onKeydown:e[9]||(e[9]=function(){return i.onMaskKeydown&&i.onMaskKeydown.apply(i,arguments)})},t.ptm("mask")),[_("div",H({class:t.cx("toolbar")},t.ptm("toolbar")),[_("button",H({class:t.cx("rotateRightButton"),onClick:e[2]||(e[2]=function(){return i.rotateRight&&i.rotateRight.apply(i,arguments)}),type:"button","aria-label":i.rightAriaLabel},t.ptm("rotateRightButton"),{"data-pc-group-section":"action"}),[Z(t.$slots,"refresh",{},function(){return[L(a,me(we(t.ptm("rotateRightIcon"))),null,16)]})],16,Bs),_("button",H({class:t.cx("rotateLeftButton"),onClick:e[3]||(e[3]=function(){return i.rotateLeft&&i.rotateLeft.apply(i,arguments)}),type:"button","aria-label":i.leftAriaLabel},t.ptm("rotateLeftButton"),{"data-pc-group-section":"action"}),[Z(t.$slots,"undo",{},function(){return[L(o,me(we(t.ptm("rotateLeftIcon"))),null,16)]})],16,zs),_("button",H({class:t.cx("zoomOutButton"),onClick:e[4]||(e[4]=function(){return i.zoomOut&&i.zoomOut.apply(i,arguments)}),type:"button",disabled:i.isZoomOutDisabled,"aria-label":i.zoomOutAriaLabel},t.ptm("zoomOutButton"),{"data-pc-group-section":"action"}),[Z(t.$slots,"zoomout",{},function(){return[L(c,me(we(t.ptm("zoomOutIcon"))),null,16)]})],16,Os),_("button",H({class:t.cx("zoomInButton"),onClick:e[5]||(e[5]=function(){return i.zoomIn&&i.zoomIn.apply(i,arguments)}),type:"button",disabled:i.isZoomInDisabled,"aria-label":i.zoomInAriaLabel},t.ptm("zoomInButton"),{"data-pc-group-section":"action"}),[Z(t.$slots,"zoomin",{},function(){return[L(l,me(we(t.ptm("zoomInIcon"))),null,16)]})],16,Ds),_("button",H({class:t.cx("closeButton"),type:"button",onClick:e[6]||(e[6]=function(){return i.hidePreview&&i.hidePreview.apply(i,arguments)}),"aria-label":i.closeAriaLabel,autofocus:""},t.ptm("closeButton"),{"data-pc-group-section":"action"}),[Z(t.$slots,"close",{},function(){return[L(p,me(we(t.ptm("closeIcon"))),null,16)]})],16,Fs)],16),L(Qt,H({name:"p-image-original",onBeforeEnter:i.onBeforeEnter,onEnter:i.onEnter,onLeave:i.onLeave,onBeforeLeave:i.onBeforeLeave,onAfterLeave:i.onAfterLeave},t.ptm("transition")),{default:ee(function(){return[r.previewVisible?(w(),S("div",me(H({key:0},t.ptm("originalContainer"))),[Z(t.$slots,t.$slots.original?"original":"preview",{class:ce(t.cx("original")),style:ke(i.imagePreviewStyle),previewCallback:i.onPreviewImageClick},function(){return[_("img",H({src:t.$attrs.src,class:t.cx("original"),style:i.imagePreviewStyle,onClick:e[7]||(e[7]=function(){return i.onPreviewImageClick&&i.onPreviewImageClick.apply(i,arguments)})},t.ptm("original")),null,16,Rs)]})],16)):G("",!0)]}),_:3},16,["onBeforeEnter","onEnter","onLeave","onBeforeLeave","onAfterLeave"])],16,As)),[[h]]):G("",!0)]}),_:3})],16)}Tt.render=Gs;const Hs={key:0,class:"image-loading"},it=V({__name:"AppImage",props:{src:{},alt:{},width:{},height:{},objectFit:{default:"cover"},borderRadius:{default:"md"},loading:{default:"lazy"}},emits:["load","error"],setup(t,{emit:e}){const s=t,n=e,r=R(!0),i=z(()=>{const{objectFit:p,borderRadius:f,...h}=s;return h}),a=z(()=>["app-image",`app-image--radius-${s.borderRadius}`,{"app-image--loading":r.value}]),o=z(()=>["app-image__img",`app-image__img--${s.objectFit}`]),c=p=>{r.value=!1,n("load",p)},l=p=>{r.value=!1,n("error",p)};return(p,f)=>{const h=Tt;return w(),S("div",{class:ce(a.value)},[L(h,H(i.value,{src:p.src,alt:p.alt,width:p.width,height:p.height,class:o.value,onLoad:c,onError:l}),null,16,["src","alt","width","height","class"]),r.value?(w(),S("div",Hs,[...f[0]||(f[0]=[_("div",{class:"image-loading__spinner"},null,-1)])])):G("",!0)],2)}}});var Vs=`
    .p-progressspinner {
        position: relative;
        margin: 0 auto;
        width: 100px;
        height: 100px;
        display: inline-block;
    }

    .p-progressspinner::before {
        content: '';
        display: block;
        padding-top: 100%;
    }

    .p-progressspinner-spin {
        height: 100%;
        transform-origin: center center;
        width: 100%;
        position: absolute;
        top: 0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
        animation: p-progressspinner-rotate 2s linear infinite;
    }

    .p-progressspinner-circle {
        stroke-dasharray: 89, 200;
        stroke-dashoffset: 0;
        stroke: dt('progressspinner.colorOne');
        animation:
            p-progressspinner-dash 1.5s ease-in-out infinite,
            p-progressspinner-color 6s ease-in-out infinite;
        stroke-linecap: round;
    }

    @keyframes p-progressspinner-rotate {
        100% {
            transform: rotate(360deg);
        }
    }
    @keyframes p-progressspinner-dash {
        0% {
            stroke-dasharray: 1, 200;
            stroke-dashoffset: 0;
        }
        50% {
            stroke-dasharray: 89, 200;
            stroke-dashoffset: -35px;
        }
        100% {
            stroke-dasharray: 89, 200;
            stroke-dashoffset: -124px;
        }
    }
    @keyframes p-progressspinner-color {
        100%,
        0% {
            stroke: dt('progressspinner.color.one');
        }
        40% {
            stroke: dt('progressspinner.color.two');
        }
        66% {
            stroke: dt('progressspinner.color.three');
        }
        80%,
        90% {
            stroke: dt('progressspinner.color.four');
        }
    }
`,Ns={root:"p-progressspinner",spin:"p-progressspinner-spin",circle:"p-progressspinner-circle"},Ws=tt.extend({name:"progressspinner",style:Vs,classes:Ns}),js={name:"BaseProgressSpinner",extends:nt,props:{strokeWidth:{type:String,default:"2"},fill:{type:String,default:"none"},animationDuration:{type:String,default:"2s"}},style:Ws,provide:function(){return{$pcProgressSpinner:this,$parentInstance:this}}},kt={name:"ProgressSpinner",extends:js,inheritAttrs:!1,computed:{svgStyle:function(){return{"animation-duration":this.animationDuration}}}},Us=["fill","stroke-width"];function qs(t,e,s,n,r,i){return w(),S("div",H({class:t.cx("root"),role:"progressbar"},t.ptmi("root")),[(w(),S("svg",H({class:t.cx("spin"),viewBox:"25 25 50 50",style:i.svgStyle},t.ptm("spin")),[_("circle",H({class:t.cx("circle"),cx:"50",cy:"50",r:"20",fill:t.fill,"stroke-width":t.strokeWidth,strokeMiterlimit:"10"},t.ptm("circle")),null,16,Us)],16))],16)}kt.render=qs;const Ys=["aria-label"],Xs=V({__name:"AppLoader",props:{size:{default:"24px"},ariaLabel:{default:"Загрузка"}},setup(t){return(e,s)=>(w(),S("div",{class:"app-loader",role:"status","aria-label":e.ariaLabel,"aria-live":"polite"},[L(M(kt),{class:"app-loader__spinner",style:ke({width:e.size,height:e.size}),strokeWidth:"4",animationDuration:"0.8s"},null,8,["style"])],8,Ys))}}),Ce=ie(Xs,[["__scopeId","data-v-15d11522"]]),Ks={class:"working-hours__days"},Zs={class:"working-hours__time"},Qs={class:"working-hours-dialog__content"},Js={class:"working-hours-dialog__day"},en={class:"working-hours-dialog__time"},tn=V({__name:"WorkingHours",props:{workingHours:{}},setup(t){const e=t,s=R(!1),n=()=>{s.value=!0},r={monday:"пн",tuesday:"вт",wednesday:"ср",thursday:"чт",friday:"пт",saturday:"сб",sunday:"вс"},i=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],a={пн:"monday",вт:"tuesday",ср:"wednesday",чт:"thursday",пт:"friday",сб:"saturday",вс:"sunday"},o=f=>{if(f.includes("-")){const h=f.split("-")[0];return a[h]||"monday"}if(f.includes(",")){const h=f.split(",")[0].trim();return a[h]||"monday"}return a[f]||"monday"},c=z(()=>e.workingHours?i.map(f=>{const h=r[f],g=e.workingHours?.[f];return{dayKey:f,dayName:h,time:g?`${g.startTime} - ${g.endTime}`:"выходной"}}):[]),l=z(()=>{if(!e.workingHours)return[];const f=["monday","tuesday","wednesday","thursday","friday"],h=["saturday","sunday"],g={};Object.entries(e.workingHours).forEach(([u,m])=>{const y=`${m.startTime}-${m.endTime}`;let C;f.includes(u)?C=`weekdays-${y}`:h.includes(u)?C=`weekend-${y}`:C=y,g[C]||(g[C]=[]),g[C].push(u)});const d=Object.keys(e.workingHours),v=f.filter(u=>!d.includes(u)),T=h.filter(u=>!d.includes(u));v.length>0&&(g["weekdays-off"]=v),T.length>0&&(g["weekend-off"]=T);const b=[];return Object.entries(g).forEach(([u,m])=>{const y=m.sort(($,I)=>i.indexOf($)-i.indexOf(I));let C,x;if(u==="weekdays-off"||u==="weekend-off")C=p(y),x="выходной";else{C=p(y);const $=u.replace(/^(weekdays|weekend)-/,""),[I,P]=$.split("-");x=`${I} - ${P}`}b.push({days:C,time:x})}),b.sort((u,m)=>{const y=u.time==="выходной"&&(u.days.includes("сб")||u.days.includes("вс")),C=m.time==="выходной"&&(m.days.includes("сб")||m.days.includes("вс")),x=u.time!=="выходной"&&(u.days.includes("сб")||u.days.includes("вс")),$=m.time!=="выходной"&&(m.days.includes("сб")||m.days.includes("вс"));if(!y&&!x&&(C||$))return-1;if((y||x)&&!C&&!$)return 1;if(x&&C)return-1;if(y&&$)return 1;if(y&&C||x&&$||!y&&!x&&!C&&!$){const I=o(u.days),P=o(m.days);return i.indexOf(I)-i.indexOf(P)}return 0})}),p=f=>{if(f.length===0)return"";if(f.length===1)return r[f[0]];const h=f.map(d=>i.indexOf(d));return h.every((d,v)=>v===0?!0:d===h[v-1]+1)&&f.length>=2?`${r[f[0]]}-${r[f[f.length-1]]}`:f.map(d=>r[d]).join(", ")};return(f,h)=>{const g=fs;return w(),S(te,null,[_("div",{class:"working-hours",onClick:n},[(w(!0),S(te,null,ae(l.value,d=>(w(),S("div",{key:d.days,class:"working-hours__item"},[_("span",Ks,D(`${d.days}: `),1),_("span",Zs,D(d.time),1)]))),128))]),L(g,{visible:s.value,"onUpdate:visible":h[0]||(h[0]=d=>s.value=d),style:{width:"260px"},modal:"",header:"Время работы",class:"working-hours-dialog"},{default:ee(()=>[_("div",Qs,[(w(!0),S(te,null,ae(c.value,d=>(w(),S("div",{key:d.dayKey,class:"working-hours-dialog__item"},[_("span",Js,D(d.dayName),1),_("span",en,D(d.time),1)]))),128))])]),_:1},8,["visible"])],64)}}});function rt(t){if(!t)return"";const e=["b","strong","i","em","u","s","p","br","ul","ol","li","h1","h2","h3","h4","h5","h6","span"];return ns.sanitize(t,{ALLOWED_TAGS:e,ALLOWED_ATTR:[],USE_PROFILES:{html:!0}}).replace(/&nbsp;|&#160;/g," ").replace(/\u00A0/g," ")}const sn={class:"collapsible-text"},nn={class:"collapsible-text__text"},rn={class:"collapsible-text__collapsed"},an=["onKeydown"],on=["innerHTML"],ln=["innerHTML"],cn={key:0,class:"collapsible-text__collapse-container"},dn=V({__name:"CollapsibleText",props:{text:{},characterLimit:{default:120},expandButtonText:{default:"еще"},collapseButtonText:{default:"свернуть"},animationDuration:{default:300}},setup(t){const e=t,s=R(!1),n=R(),r=R(),i=R(!1),a=z(()=>rt(e.text)),o=z(()=>{const d=document.createElement("div");return d.innerHTML=a.value,d.textContent||d.innerText||""}),c=d=>{const v=window.getComputedStyle(d),T=parseFloat(v.fontSize)||16,b=v.lineHeight,u=parseFloat(b);return Number.isFinite(u)?u:T*1.2},l=async()=>{await Ae();const d=r.value||n.value;if(!d)return;r.value&&n.value&&(r.value.style.width=`${n.value.clientWidth}px`);const v=c(d);if(v<=0){i.value=!1;return}const T=Math.round(d.scrollHeight/v);i.value=T>3},p=z(()=>{if(!n.value||!i.value)return o.value;const d=n.value,v=document.createElement("span");v.style.visibility="hidden",v.style.position="fixed",v.style.left="-99999px",v.style.whiteSpace="normal",v.style.wordBreak="break-word",v.style.overflowWrap="anywhere",v.style.hyphens="auto",v.style.width=`${d.clientWidth}px`;const T=window.getComputedStyle(d);v.style.font=T.font,v.style.lineHeight=T.lineHeight,document.body.appendChild(v);const b=o.value;let u=0,m=b.length;const y=3,C=c(d),x=y*C;for(;u<m;){const P=Math.ceil((u+m)/2);v.textContent=b.slice(0,P)+"… "+e.expandButtonText,v.scrollHeight<=x?u=P:m=P-1}let $=b.slice(0,u);const I=$.lastIndexOf(" ");return I>$.length*.6&&($=$.slice(0,I)),document.body.removeChild(v),$});Ve(()=>{l(),window.addEventListener("resize",l)}),st(()=>{window.removeEventListener("resize",l)}),ve(()=>e.text,()=>{l()});const f=async()=>{if(!n.value)return;const d=n.value,v=d.scrollHeight,T=s.value;s.value=!0,await Ae();const b=d.scrollHeight;s.value=T,s.value=!0,d.classList.add("expanding"),d.style.height=`${v}px`,d.style.overflow="hidden",d.style.transition=`height ${e.animationDuration}ms cubic-bezier(0.4, 0, 0.2, 1)`,requestAnimationFrame(()=>{d.style.height=`${b}px`}),setTimeout(()=>{d.classList.remove("expanding"),d.style.height="",d.style.overflow="",d.style.transition=""},e.animationDuration)},{trigger:h}=ye(),g=async()=>{if(h(),!n.value)return;const d=n.value,v=d.scrollHeight,T=s.value;s.value=!1,await Ae();const b=d.scrollHeight;s.value=T,d.classList.add("collapsing"),d.style.height=`${v}px`,d.style.overflow="hidden",d.style.transition=`height ${e.animationDuration}ms cubic-bezier(0.4, 0, 0.2, 1)`,requestAnimationFrame(()=>{d.style.height=`${b}px`}),setTimeout(()=>{d.classList.remove("collapsing"),s.value=!1,d.style.height="",d.style.overflow="",d.style.transition=""},e.animationDuration)};return(d,v)=>(w(),S("div",sn,[_("div",{class:ce(["collapsible-text__content",{"collapsible-text__content--expanded":s.value}]),ref_key:"contentRef",ref:n},[_("div",nn,[!s.value&&i.value?(w(),S(te,{key:0},[_("span",rn,D(p.value),1),v[0]||(v[0]=_("span",{class:"collapsible-text__ellipsis"},"… ",-1)),_("span",{class:"collapsible-text__more",role:"button",tabindex:"0",onClick:f,onKeydown:[ot(Qe(f,["prevent"]),["enter"]),ot(Qe(f,["prevent"]),["space"])]},D(d.expandButtonText),41,an)],64)):(w(),S("span",{key:1,innerHTML:a.value},null,8,on))]),_("div",{ref_key:"measureRef",ref:r,class:"collapsible-text__measure","aria-hidden":"true",innerHTML:a.value},null,8,ln),s.value&&i.value?(w(),S("div",cn,[_("button",{onClick:g,class:"collapsible-text__toggle-collapse"},D(d.collapseButtonText),1)])):G("",!0)],2)]))}}),xt=ie(dn,[["__scopeId","data-v-27b229cb"]]),un=["jpg","jpeg","png","gif","webp","svg","bmp","ico"],pn=["pdf","html","htm","txt","md","xml","json"];function fn(t){return un.includes(t.extension.toLowerCase())}function mn(t){return t.extension.toLowerCase()==="pdf"}function hn(t){return pn.includes(t.extension.toLowerCase())}const gn={class:"media-viewer"},vn={key:0,class:"media-viewer__image-container"},yn=["src","alt"],wn={key:1,class:"media-viewer__iframe-container"},bn=["src","title"],_n=V({__name:"MediaViewer",props:{mediaFiles:{},initialIndex:{default:0}},emits:["change"],setup(t,{expose:e,emit:s}){const n=t,r=s,i=R(n.initialIndex),a=R(null),o=R(600),c=z(()=>n.mediaFiles[i.value]||null),l=z(()=>i.value>0),p=z(()=>i.value<n.mediaFiles.length-1),f=v=>{v>=0&&v<n.mediaFiles.length&&(i.value=v)},h=v=>{const T=v.url;if(mn(v)){const b=T.includes("?")?"&":"#";return`${T}${b}view=FitH&toolbar=1&navpanes=0&scrollbar=1&page=1&zoom=page-width`}return T},g=()=>{l.value&&f(i.value-1)},d=()=>{p.value&&f(i.value+1)};return ve(i,v=>{const T=n.mediaFiles[v];T&&r("change",T,v)}),ve(()=>n.initialIndex,v=>{f(v)}),e({setCurrentIndex:f,goToPrevious:g,goToNext:d,currentIndex:()=>i.value,currentMedia:()=>c.value}),(v,T)=>(w(),S("div",gn,[_("div",{class:"media-viewer__main",ref_key:"mainRef",ref:a},[c.value&&M(fn)(c.value)?(w(),S("div",vn,[_("img",{src:c.value.url,alt:c.value.name,class:"media-viewer__image",loading:"lazy"},null,8,yn)])):c.value&&M(hn)(c.value)?(w(),S("div",wn,[_("iframe",{src:h(c.value),class:"media-viewer__iframe",title:c.value.name,loading:"lazy",style:ke({height:o.value+"px"})},null,12,bn)])):G("",!0),l.value?(w(),S("button",{key:2,class:"media-viewer__nav-btn media-viewer__nav-btn--prev",onClick:g,title:"Предыдущий файл"},[L(U,{name:"mdi:chevron-left",size:"16"})])):G("",!0),p.value?(w(),S("button",{key:3,class:"media-viewer__nav-btn media-viewer__nav-btn--next",onClick:d,title:"Следующий файл"},[L(U,{name:"mdi:chevron-right",size:"16"})])):G("",!0)],512)]))}});function $t(t,e={}){const{perPage:s=5}=e,n=R([]),r=R(!1),i=R(null),a=R(!1),o=R(1),c=R(s),l=R(!0),p=R("");return{items:n,loading:r,error:i,isLoadingMore:a,page:o,perPage:c,hasMore:l,savedSlug:p,getData:async d=>{r.value=!0,i.value=null,o.value=1,l.value=!0,p.value=d;try{const v=await le.get(`/api/site/restaurants/${d}/${t}`,{params:{page:o.value,per_page:c.value}});n.value=v.data.data;const T=v.data.meta;l.value=T.current_page<T.last_page}catch(v){ge(v)?v.response?.status===404?i.value="Ресурс не найден":v.response?.data&&typeof v.response.data=="object"&&"message"in v.response.data?i.value=String(v.response.data.message||"Ошибка запроса"):i.value="Произошла ошибка при загрузке ресурса":i.value="Произошла непредвиденная ошибка",console.error(`Ошибка загрузки ${t}:`,v)}finally{r.value=!1}},loadMore:async()=>{if(!(r.value||a.value)&&l.value&&p.value){a.value=!0,i.value=null;try{const d=o.value+1,v=await le.get(`/api/site/restaurants/${p.value}/${t}`,{params:{page:d,per_page:c.value}});n.value=[...n.value,...v.data.data];const T=v.data.meta;o.value=T.current_page,l.value=T.current_page<T.last_page}catch(d){ge(d)?d.response?.data&&typeof d.response.data=="object"&&"message"in d.response.data?i.value=String(d.response.data.message||"Ошибка запроса"):i.value="Не удалось загрузить ещё ресурсы":i.value="Произошла непредвиденная ошибка",console.error(`Ошибка дозагрузки ${t}:`,d)}finally{a.value=!1}}},reset:()=>{n.value=[],r.value=!1,i.value=null,a.value=!1,o.value=1,l.value=!0,p.value=""}}}const Sn={key:0,class:"contact-dropdown__menu"},Cn={class:"contact-dropdown__item-icon contact-dropdown__item-icon--phone"},Tn={class:"contact-dropdown__item-icon contact-dropdown__item-icon--telegram"},kn={class:"contact-dropdown__item-icon contact-dropdown__item-icon--booking"},xn=V({__name:"ContactDropdown",props:{phone:{default:"+7 (495) 123-45-67"},telegramUsername:{default:"restaurant_bot"}},setup(t){const e=t,s=R(!1),n=R(),r=()=>{s.value=!s.value},i=()=>{s.value=!1},a=()=>{if(e.phone){const p=e.phone.replace(/[^\d+]/g,"");window.location.href=`tel:${p}`}i()},o=()=>{if(e.telegramUsername){const p=`https://t.me/${e.telegramUsername}`;window.open(p,"_blank")}i()},c=()=>{if(e.phone){const p=e.phone.replace(/[^\d+]/g,"");window.location.href=`tel:${p}`}i()},l=p=>{n.value&&!n.value.contains(p.target)&&i()};return Ve(()=>{document.addEventListener("click",l)}),st(()=>{document.removeEventListener("click",l)}),(p,f)=>(w(),S("div",{class:"contact-dropdown",ref_key:"dropdownRef",ref:n},[L(M(Be),{onClick:r,variant:"help",size:"medium",class:"contact-dropdown__trigger"},{icon:ee(()=>[L(M(U),{name:"phone",size:"12",class:"contact-dropdown__icon"})]),_:1}),s.value?(w(),S("div",Sn,[_("div",{class:"contact-dropdown__item",onClick:a},[_("div",Cn,[L(M(U),{name:"call",size:22})]),f[0]||(f[0]=_("span",{class:"contact-dropdown__item-text"},"Позвонить",-1))]),f[3]||(f[3]=_("div",{class:"contact-dropdown__divider"},null,-1)),_("div",{class:"contact-dropdown__item",onClick:o},[_("div",Tn,[L(M(U),{name:"telegram",size:18})]),f[1]||(f[1]=_("span",{class:"contact-dropdown__item-text"},"Написать",-1))]),f[4]||(f[4]=_("div",{class:"contact-dropdown__divider"},null,-1)),_("div",{class:"contact-dropdown__item",onClick:c},[_("div",kn,[L(M(U),{name:"booking",size:18})]),f[2]||(f[2]=_("span",{class:"contact-dropdown__item-text"},"Забронировать",-1))])])):G("",!0)],512))}}),$n={class:"infinite-scroll"},En={key:0,class:"infinite-scroll__state"},Mn={key:1,class:"infinite-scroll__state"},In={key:2,class:"infinite-scroll__content"},Pn={key:1,class:"infinite-scroll__state"},Et=V({__name:"InfiniteScroll",props:{loading:{type:Boolean},error:{},hasMore:{type:Boolean},isLoadingMore:{type:Boolean},onLoadMore:{type:Function}},setup(t){const e=Jt("sentinel");let s=null;return Ve(()=>{s=new IntersectionObserver(n=>{const[r]=n;r?.isIntersecting&&(t.loading||t.isLoadingMore||!t.hasMore||t.onLoadMore())},{root:null,rootMargin:"200px 0px",threshold:0}),e.value&&s.observe(e.value)}),ve(e,(n,r)=>{s&&(r&&s.unobserve(r),n&&t.hasMore&&s.observe(n))},{flush:"post"}),ve(()=>t.hasMore,n=>{!s||!e.value||(n?s.observe(e.value):s.unobserve(e.value))}),st(()=>{s&&s.disconnect(),s=null}),(n,r)=>(w(),S("div",$n,[n.loading?(w(),S("div",En,[L(M(Ce))])):n.error?(w(),S("div",Mn,D(n.error),1)):(w(),S("div",In,[Z(n.$slots,"default"),n.hasMore?(w(),S("div",{key:0,ref_key:"sentinel",ref:e,class:"infinite-scroll__sentinel","aria-hidden":"true"},null,512)):G("",!0),n.isLoadingMore?(w(),S("div",Pn,[L(M(Ce))])):G("",!0)]))]))}});function Mt(t){const s=(typeof t=="string"?t:String(t)).split(".")[0],n=s.replace(/[^\d-]/g,""),r=Number(n);return`${Number.isFinite(r)?r.toLocaleString("ru-RU"):s} ₽`}const De=Te("restaurant",()=>{const t=R(null),e=R(!1),s=R(null);return{restaurant:t,loading:e,error:s,getRestaurantData:async r=>{e.value=!0,s.value=null,t.value=null;try{const i=await le.get(`/api/site/restaurants/${r}`);t.value=i.data}catch(i){t.value=null,ge(i)&&i.response?.status===404?s.value="Ресторан не найден":ge(i)&&i.response?.data?.message?s.value=i.response.data.message:s.value="Произошла ошибка при загрузке ресторана",console.error("Ошибка загрузки ресторана:",i)}finally{e.value=!1}}}});function It(){const t=z(()=>{const i=window.Telegram?.WebApp;return!!(i&&typeof i.shareToStory=="function")}),e=z(()=>!!window.Telegram?.WebApp?.isVersionAtLeast?.("7.8")),s=(i,a)=>{if(!t.value||!e.value)return console.warn("Telegram WebApp shareToStory is not available"),!1;const o=window.Telegram?.WebApp;if(!o?.shareToStory)return!1;try{const c={};return a?.text&&(c.text=a.text),a?.widgetLink&&(c.widget_link={url:a.widgetLink.url,name:a.widgetLink.name||"Открыть"}),o.shareToStory(i,c),!0}catch(c){return console.error("Error sharing to story:",c),!1}};return{isAvailable:t,isVersionSupported:e,shareToStory:s,shareNewsToStory:(i,a,o,c)=>{const l=De(),{restaurant:p}=ue(l),f=p.value?.bot_username,h=`n_${c}`,g=f?`https://t.me/${f}?startapp=${h}`:`${window.location.origin}/restaurant/${o}`;return s(i,{text:`${a}`,widgetLink:{url:g,name:"Читать новость"}})},shareEventToStory:(i,a,o,c)=>{const l=De(),{restaurant:p}=ue(l),f=p.value?.bot_username,h=`e_${c}`,g=f?`https://t.me/${f}?startapp=${h}`:`${window.location.origin}/restaurant/${o}`;return s(i,{text:`${a}`,widgetLink:{url:g,name:"Подробнее"}})}}}var he=(t=>(t.News="news",t.Events="events",t.Offers="offers",t))(he||{});function ut(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function at(t,e){t===void 0&&(t={}),e===void 0&&(e={});const s=["__proto__","constructor","prototype"];Object.keys(e).filter(n=>s.indexOf(n)<0).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:ut(e[n])&&ut(t[n])&&Object.keys(e[n]).length>0&&at(t[n],e[n])})}const Pt={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function ne(){const t=typeof document<"u"?document:{};return at(t,Pt),t}const Ln={document:Pt,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function K(){const t=typeof window<"u"?window:{};return at(t,Ln),t}function An(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Bn(t){const e=t;Object.keys(e).forEach(s=>{try{e[s]=null}catch{}try{delete e[s]}catch{}})}function Lt(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function Fe(){return Date.now()}function zn(t){const e=K();let s;return e.getComputedStyle&&(s=e.getComputedStyle(t,null)),!s&&t.currentStyle&&(s=t.currentStyle),s||(s=t.style),s}function On(t,e){e===void 0&&(e="x");const s=K();let n,r,i;const a=zn(t);return s.WebKitCSSMatrix?(r=a.transform||a.webkitTransform,r.split(",").length>6&&(r=r.split(", ").map(o=>o.replace(",",".")).join(", ")),i=new s.WebKitCSSMatrix(r==="none"?"":r)):(i=a.MozTransform||a.OTransform||a.MsTransform||a.msTransform||a.transform||a.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),n=i.toString().split(",")),e==="x"&&(s.WebKitCSSMatrix?r=i.m41:n.length===16?r=parseFloat(n[12]):r=parseFloat(n[4])),e==="y"&&(s.WebKitCSSMatrix?r=i.m42:n.length===16?r=parseFloat(n[13]):r=parseFloat(n[5])),r||0}function Ie(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Dn(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Q(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let s=1;s<arguments.length;s+=1){const n=s<0||arguments.length<=s?void 0:arguments[s];if(n!=null&&!Dn(n)){const r=Object.keys(Object(n)).filter(i=>e.indexOf(i)<0);for(let i=0,a=r.length;i<a;i+=1){const o=r[i],c=Object.getOwnPropertyDescriptor(n,o);c!==void 0&&c.enumerable&&(Ie(t[o])&&Ie(n[o])?n[o].__swiper__?t[o]=n[o]:Q(t[o],n[o]):!Ie(t[o])&&Ie(n[o])?(t[o]={},n[o].__swiper__?t[o]=n[o]:Q(t[o],n[o])):t[o]=n[o])}}}return t}function Pe(t,e,s){t.style.setProperty(e,s)}function At(t){let{swiper:e,targetPosition:s,side:n}=t;const r=K(),i=-e.translate;let a=null,o;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(e.cssModeFrameID);const l=s>i?"next":"prev",p=(h,g)=>l==="next"&&h>=g||l==="prev"&&h<=g,f=()=>{o=new Date().getTime(),a===null&&(a=o);const h=Math.max(Math.min((o-a)/c,1),0),g=.5-Math.cos(h*Math.PI)/2;let d=i+g*(s-i);if(p(d,s)&&(d=s),e.wrapperEl.scrollTo({[n]:d}),p(d,s)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[n]:d})}),r.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=r.requestAnimationFrame(f)};f()}function se(t,e){e===void 0&&(e="");const s=K(),n=[...t.children];return s.HTMLSlotElement&&t instanceof HTMLSlotElement&&n.push(...t.assignedElements()),e?n.filter(r=>r.matches(e)):n}function Fn(t,e){const s=[e];for(;s.length>0;){const n=s.shift();if(t===n)return!0;s.push(...n.children,...n.shadowRoot?n.shadowRoot.children:[],...n.assignedElements?n.assignedElements():[])}}function Rn(t,e){const s=K();let n=e.contains(t);return!n&&s.HTMLSlotElement&&e instanceof HTMLSlotElement&&(n=[...e.assignedElements()].includes(t),n||(n=Fn(t,e))),n}function Re(t){try{console.warn(t);return}catch{}}function Ge(t,e){e===void 0&&(e=[]);const s=document.createElement(t);return s.classList.add(...Array.isArray(e)?e:An(e)),s}function Gn(t,e){const s=[];for(;t.previousElementSibling;){const n=t.previousElementSibling;e?n.matches(e)&&s.push(n):s.push(n),t=n}return s}function Hn(t,e){const s=[];for(;t.nextElementSibling;){const n=t.nextElementSibling;e?n.matches(e)&&s.push(n):s.push(n),t=n}return s}function oe(t,e){return K().getComputedStyle(t,null).getPropertyValue(e)}function He(t){let e=t,s;if(e){for(s=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(s+=1);return s}}function Bt(t,e){const s=[];let n=t.parentElement;for(;n;)e?n.matches(e)&&s.push(n):s.push(n),n=n.parentElement;return s}function Je(t,e,s){const n=K();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(n.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function re(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}function pt(t,e){e===void 0&&(e=""),typeof trustedTypes<"u"?t.innerHTML=trustedTypes.createPolicy("html",{createHTML:s=>s}).createHTML(e):t.innerHTML=e}let je;function Vn(){const t=K(),e=ne();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function zt(){return je||(je=Vn()),je}let Ue;function Nn(t){let{userAgent:e}=t===void 0?{}:t;const s=zt(),n=K(),r=n.navigator.platform,i=e||n.navigator.userAgent,a={ios:!1,android:!1},o=n.screen.width,c=n.screen.height,l=i.match(/(Android);?[\s\/]+([\d.]+)?/);let p=i.match(/(iPad).*OS\s([\d_]+)/);const f=i.match(/(iPod)(.*OS\s([\d_]+))?/),h=!p&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),g=r==="Win32";let d=r==="MacIntel";const v=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!p&&d&&s.touch&&v.indexOf(`${o}x${c}`)>=0&&(p=i.match(/(Version)\/([\d.]+)/),p||(p=[0,1,"13_0_0"]),d=!1),l&&!g&&(a.os="android",a.android=!0),(p||h||f)&&(a.os="ios",a.ios=!0),a}function Ot(t){return t===void 0&&(t={}),Ue||(Ue=Nn(t)),Ue}let qe;function Wn(){const t=K(),e=Ot();let s=!1;function n(){const o=t.navigator.userAgent.toLowerCase();return o.indexOf("safari")>=0&&o.indexOf("chrome")<0&&o.indexOf("android")<0}if(n()){const o=String(t.navigator.userAgent);if(o.includes("Version/")){const[c,l]=o.split("Version/")[1].split(" ")[0].split(".").map(p=>Number(p));s=c<16||c===16&&l<2}}const r=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),i=n(),a=i||r&&e.ios;return{isSafari:s||i,needPerspectiveFix:s,need3dFix:a,isWebView:r}}function Dt(){return qe||(qe=Wn()),qe}function jn(t){let{swiper:e,on:s,emit:n}=t;const r=K();let i=null,a=null;const o=()=>{!e||e.destroyed||!e.initialized||(n("beforeResize"),n("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(i=new ResizeObserver(f=>{a=r.requestAnimationFrame(()=>{const{width:h,height:g}=e;let d=h,v=g;f.forEach(T=>{let{contentBoxSize:b,contentRect:u,target:m}=T;m&&m!==e.el||(d=u?u.width:(b[0]||b).inlineSize,v=u?u.height:(b[0]||b).blockSize)}),(d!==h||v!==g)&&o()})}),i.observe(e.el))},l=()=>{a&&r.cancelAnimationFrame(a),i&&i.unobserve&&e.el&&(i.unobserve(e.el),i=null)},p=()=>{!e||e.destroyed||!e.initialized||n("orientationchange")};s("init",()=>{if(e.params.resizeObserver&&typeof r.ResizeObserver<"u"){c();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",p)}),s("destroy",()=>{l(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",p)})}function Un(t){let{swiper:e,extendParams:s,on:n,emit:r}=t;const i=[],a=K(),o=function(p,f){f===void 0&&(f={});const h=a.MutationObserver||a.WebkitMutationObserver,g=new h(d=>{if(e.__preventObserver__)return;if(d.length===1){r("observerUpdate",d[0]);return}const v=function(){r("observerUpdate",d[0])};a.requestAnimationFrame?a.requestAnimationFrame(v):a.setTimeout(v,0)});g.observe(p,{attributes:typeof f.attributes>"u"?!0:f.attributes,childList:e.isElement||(typeof f.childList>"u"?!0:f).childList,characterData:typeof f.characterData>"u"?!0:f.characterData}),i.push(g)},c=()=>{if(e.params.observer){if(e.params.observeParents){const p=Bt(e.hostEl);for(let f=0;f<p.length;f+=1)o(p[f])}o(e.hostEl,{childList:e.params.observeSlideChildren}),o(e.wrapperEl,{attributes:!1})}},l=()=>{i.forEach(p=>{p.disconnect()}),i.splice(0,i.length)};s({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",c),n("destroy",l)}var qn={on(t,e,s){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;const r=s?"unshift":"push";return t.split(" ").forEach(i=>{n.eventsListeners[i]||(n.eventsListeners[i]=[]),n.eventsListeners[i][r](e)}),n},once(t,e,s){const n=this;if(!n.eventsListeners||n.destroyed||typeof e!="function")return n;function r(){n.off(t,r),r.__emitterProxy&&delete r.__emitterProxy;for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];e.apply(n,a)}return r.__emitterProxy=e,n.on(t,r,s)},onAny(t,e){const s=this;if(!s.eventsListeners||s.destroyed||typeof t!="function")return s;const n=e?"unshift":"push";return s.eventsAnyListeners.indexOf(t)<0&&s.eventsAnyListeners[n](t),s},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const s=e.eventsAnyListeners.indexOf(t);return s>=0&&e.eventsAnyListeners.splice(s,1),e},off(t,e){const s=this;return!s.eventsListeners||s.destroyed||!s.eventsListeners||t.split(" ").forEach(n=>{typeof e>"u"?s.eventsListeners[n]=[]:s.eventsListeners[n]&&s.eventsListeners[n].forEach((r,i)=>{(r===e||r.__emitterProxy&&r.__emitterProxy===e)&&s.eventsListeners[n].splice(i,1)})}),s},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,s,n;for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return typeof i[0]=="string"||Array.isArray(i[0])?(e=i[0],s=i.slice(1,i.length),n=t):(e=i[0].events,s=i[0].data,n=i[0].context||t),s.unshift(n),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(l=>{l.apply(n,[c,...s])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(l=>{l.apply(n,s)})}),t}};function Yn(){const t=this;let e,s;const n=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=n.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?s=t.params.height:s=n.clientHeight,!(e===0&&t.isHorizontal()||s===0&&t.isVertical())&&(e=e-parseInt(oe(n,"padding-left")||0,10)-parseInt(oe(n,"padding-right")||0,10),s=s-parseInt(oe(n,"padding-top")||0,10)-parseInt(oe(n,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(s)&&(s=0),Object.assign(t,{width:e,height:s,size:t.isHorizontal()?e:s}))}function Xn(){const t=this;function e(k,E){return parseFloat(k.getPropertyValue(t.getDirectionLabel(E))||0)}const s=t.params,{wrapperEl:n,slidesEl:r,size:i,rtlTranslate:a,wrongRTL:o}=t,c=t.virtual&&s.virtual.enabled,l=c?t.virtual.slides.length:t.slides.length,p=se(r,`.${t.params.slideClass}, swiper-slide`),f=c?t.virtual.slides.length:p.length;let h=[];const g=[],d=[];let v=s.slidesOffsetBefore;typeof v=="function"&&(v=s.slidesOffsetBefore.call(t));let T=s.slidesOffsetAfter;typeof T=="function"&&(T=s.slidesOffsetAfter.call(t));const b=t.snapGrid.length,u=t.slidesGrid.length;let m=s.spaceBetween,y=-v,C=0,x=0;if(typeof i>"u")return;typeof m=="string"&&m.indexOf("%")>=0?m=parseFloat(m.replace("%",""))/100*i:typeof m=="string"&&(m=parseFloat(m)),t.virtualSize=-m,p.forEach(k=>{a?k.style.marginLeft="":k.style.marginRight="",k.style.marginBottom="",k.style.marginTop=""}),s.centeredSlides&&s.cssMode&&(Pe(n,"--swiper-centered-offset-before",""),Pe(n,"--swiper-centered-offset-after",""));const $=s.grid&&s.grid.rows>1&&t.grid;$?t.grid.initSlides(p):t.grid&&t.grid.unsetSlides();let I;const P=s.slidesPerView==="auto"&&s.breakpoints&&Object.keys(s.breakpoints).filter(k=>typeof s.breakpoints[k].slidesPerView<"u").length>0;for(let k=0;k<f;k+=1){I=0;let E;if(p[k]&&(E=p[k]),$&&t.grid.updateSlide(k,E,p),!(p[k]&&oe(E,"display")==="none")){if(s.slidesPerView==="auto"){P&&(p[k].style[t.getDirectionLabel("width")]="");const O=getComputedStyle(E),F=E.style.transform,N=E.style.webkitTransform;if(F&&(E.style.transform="none"),N&&(E.style.webkitTransform="none"),s.roundLengths)I=t.isHorizontal()?Je(E,"width"):Je(E,"height");else{const W=e(O,"width"),A=e(O,"padding-left"),q=e(O,"padding-right"),B=e(O,"margin-left"),j=e(O,"margin-right"),X=O.getPropertyValue("box-sizing");if(X&&X==="border-box")I=W+B+j;else{const{clientWidth:de,offsetWidth:Ee}=E;I=W+A+q+B+j+(Ee-de)}}F&&(E.style.transform=F),N&&(E.style.webkitTransform=N),s.roundLengths&&(I=Math.floor(I))}else I=(i-(s.slidesPerView-1)*m)/s.slidesPerView,s.roundLengths&&(I=Math.floor(I)),p[k]&&(p[k].style[t.getDirectionLabel("width")]=`${I}px`);p[k]&&(p[k].swiperSlideSize=I),d.push(I),s.centeredSlides?(y=y+I/2+C/2+m,C===0&&k!==0&&(y=y-i/2-m),k===0&&(y=y-i/2-m),Math.abs(y)<1/1e3&&(y=0),s.roundLengths&&(y=Math.floor(y)),x%s.slidesPerGroup===0&&h.push(y),g.push(y)):(s.roundLengths&&(y=Math.floor(y)),(x-Math.min(t.params.slidesPerGroupSkip,x))%t.params.slidesPerGroup===0&&h.push(y),g.push(y),y=y+I+m),t.virtualSize+=I+m,C=I,x+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+T,a&&o&&(s.effect==="slide"||s.effect==="coverflow")&&(n.style.width=`${t.virtualSize+m}px`),s.setWrapperSize&&(n.style[t.getDirectionLabel("width")]=`${t.virtualSize+m}px`),$&&t.grid.updateWrapperSize(I,h),!s.centeredSlides){const k=[];for(let E=0;E<h.length;E+=1){let O=h[E];s.roundLengths&&(O=Math.floor(O)),h[E]<=t.virtualSize-i&&k.push(O)}h=k,Math.floor(t.virtualSize-i)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-i)}if(c&&s.loop){const k=d[0]+m;if(s.slidesPerGroup>1){const E=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/s.slidesPerGroup),O=k*s.slidesPerGroup;for(let F=0;F<E;F+=1)h.push(h[h.length-1]+O)}for(let E=0;E<t.virtual.slidesBefore+t.virtual.slidesAfter;E+=1)s.slidesPerGroup===1&&h.push(h[h.length-1]+k),g.push(g[g.length-1]+k),t.virtualSize+=k}if(h.length===0&&(h=[0]),m!==0){const k=t.isHorizontal()&&a?"marginLeft":t.getDirectionLabel("marginRight");p.filter((E,O)=>!s.cssMode||s.loop?!0:O!==p.length-1).forEach(E=>{E.style[k]=`${m}px`})}if(s.centeredSlides&&s.centeredSlidesBounds){let k=0;d.forEach(O=>{k+=O+(m||0)}),k-=m;const E=k>i?k-i:0;h=h.map(O=>O<=0?-v:O>E?E+T:O)}if(s.centerInsufficientSlides){let k=0;d.forEach(O=>{k+=O+(m||0)}),k-=m;const E=(s.slidesOffsetBefore||0)+(s.slidesOffsetAfter||0);if(k+E<i){const O=(i-k-E)/2;h.forEach((F,N)=>{h[N]=F-O}),g.forEach((F,N)=>{g[N]=F+O})}}if(Object.assign(t,{slides:p,snapGrid:h,slidesGrid:g,slidesSizesGrid:d}),s.centeredSlides&&s.cssMode&&!s.centeredSlidesBounds){Pe(n,"--swiper-centered-offset-before",`${-h[0]}px`),Pe(n,"--swiper-centered-offset-after",`${t.size/2-d[d.length-1]/2}px`);const k=-t.snapGrid[0],E=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(O=>O+k),t.slidesGrid=t.slidesGrid.map(O=>O+E)}if(f!==l&&t.emit("slidesLengthChange"),h.length!==b&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),g.length!==u&&t.emit("slidesGridLengthChange"),s.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!s.cssMode&&(s.effect==="slide"||s.effect==="fade")){const k=`${s.containerModifierClass}backface-hidden`,E=t.el.classList.contains(k);f<=s.maxBackfaceHiddenSlides?E||t.el.classList.add(k):E&&t.el.classList.remove(k)}}function Kn(t){const e=this,s=[],n=e.virtual&&e.params.virtual.enabled;let r=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const a=o=>n?e.slides[e.getSlideIndexByData(o)]:e.slides[o];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(o=>{s.push(o)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const o=e.activeIndex+i;if(o>e.slides.length&&!n)break;s.push(a(o))}else s.push(a(e.activeIndex));for(i=0;i<s.length;i+=1)if(typeof s[i]<"u"){const o=s[i].offsetHeight;r=o>r?o:r}(r||r===0)&&(e.wrapperEl.style.height=`${r}px`)}function Zn(){const t=this,e=t.slides,s=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=(t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop)-s-t.cssOverflowAdjustment()}const ft=(t,e,s)=>{e&&!t.classList.contains(s)?t.classList.add(s):!e&&t.classList.contains(s)&&t.classList.remove(s)};function Qn(t){t===void 0&&(t=this&&this.translate||0);const e=this,s=e.params,{slides:n,rtlTranslate:r,snapGrid:i}=e;if(n.length===0)return;typeof n[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let a=-t;r&&(a=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let o=s.spaceBetween;typeof o=="string"&&o.indexOf("%")>=0?o=parseFloat(o.replace("%",""))/100*e.size:typeof o=="string"&&(o=parseFloat(o));for(let c=0;c<n.length;c+=1){const l=n[c];let p=l.swiperSlideOffset;s.cssMode&&s.centeredSlides&&(p-=n[0].swiperSlideOffset);const f=(a+(s.centeredSlides?e.minTranslate():0)-p)/(l.swiperSlideSize+o),h=(a-i[0]+(s.centeredSlides?e.minTranslate():0)-p)/(l.swiperSlideSize+o),g=-(a-p),d=g+e.slidesSizesGrid[c],v=g>=0&&g<=e.size-e.slidesSizesGrid[c],T=g>=0&&g<e.size-1||d>1&&d<=e.size||g<=0&&d>=e.size;T&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(c)),ft(l,T,s.slideVisibleClass),ft(l,v,s.slideFullyVisibleClass),l.progress=r?-f:f,l.originalProgress=r?-h:h}}function Jn(t){const e=this;if(typeof t>"u"){const p=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*p||0}const s=e.params,n=e.maxTranslate()-e.minTranslate();let{progress:r,isBeginning:i,isEnd:a,progressLoop:o}=e;const c=i,l=a;if(n===0)r=0,i=!0,a=!0;else{r=(t-e.minTranslate())/n;const p=Math.abs(t-e.minTranslate())<1,f=Math.abs(t-e.maxTranslate())<1;i=p||r<=0,a=f||r>=1,p&&(r=0),f&&(r=1)}if(s.loop){const p=e.getSlideIndexByData(0),f=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[p],g=e.slidesGrid[f],d=e.slidesGrid[e.slidesGrid.length-1],v=Math.abs(t);v>=h?o=(v-h)/d:o=(v+d-g)/d,o>1&&(o-=1)}Object.assign(e,{progress:r,progressLoop:o,isBeginning:i,isEnd:a}),(s.watchSlidesProgress||s.centeredSlides&&s.autoHeight)&&e.updateSlidesProgress(t),i&&!c&&e.emit("reachBeginning toEdge"),a&&!l&&e.emit("reachEnd toEdge"),(c&&!i||l&&!a)&&e.emit("fromEdge"),e.emit("progress",r)}const Ye=(t,e,s)=>{e&&!t.classList.contains(s)?t.classList.add(s):!e&&t.classList.contains(s)&&t.classList.remove(s)};function ei(){const t=this,{slides:e,params:s,slidesEl:n,activeIndex:r}=t,i=t.virtual&&s.virtual.enabled,a=t.grid&&s.grid&&s.grid.rows>1,o=f=>se(n,`.${s.slideClass}${f}, swiper-slide${f}`)[0];let c,l,p;if(i)if(s.loop){let f=r-t.virtual.slidesBefore;f<0&&(f=t.virtual.slides.length+f),f>=t.virtual.slides.length&&(f-=t.virtual.slides.length),c=o(`[data-swiper-slide-index="${f}"]`)}else c=o(`[data-swiper-slide-index="${r}"]`);else a?(c=e.find(f=>f.column===r),p=e.find(f=>f.column===r+1),l=e.find(f=>f.column===r-1)):c=e[r];c&&(a||(p=Hn(c,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!p&&(p=e[0]),l=Gn(c,`.${s.slideClass}, swiper-slide`)[0],s.loop&&!l===0&&(l=e[e.length-1]))),e.forEach(f=>{Ye(f,f===c,s.slideActiveClass),Ye(f,f===p,s.slideNextClass),Ye(f,f===l,s.slidePrevClass)}),t.emitSlidesClasses()}const ze=(t,e)=>{if(!t||t.destroyed||!t.params)return;const s=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,n=e.closest(s());if(n){let r=n.querySelector(`.${t.params.lazyPreloaderClass}`);!r&&t.isElement&&(n.shadowRoot?r=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{n.shadowRoot&&(r=n.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),r&&r.remove())})),r&&r.remove()}},Xe=(t,e)=>{if(!t.slides[e])return;const s=t.slides[e].querySelector('[loading="lazy"]');s&&s.removeAttribute("loading")},et=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const s=t.slides.length;if(!s||!e||e<0)return;e=Math.min(e,s);const n=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),r=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const a=r,o=[a-e];o.push(...Array.from({length:e}).map((c,l)=>a+n+l)),t.slides.forEach((c,l)=>{o.includes(c.column)&&Xe(t,l)});return}const i=r+n-1;if(t.params.rewind||t.params.loop)for(let a=r-e;a<=i+e;a+=1){const o=(a%s+s)%s;(o<r||o>i)&&Xe(t,o)}else for(let a=Math.max(r-e,0);a<=Math.min(i+e,s-1);a+=1)a!==r&&(a>i||a<r)&&Xe(t,a)};function ti(t){const{slidesGrid:e,params:s}=t,n=t.rtlTranslate?t.translate:-t.translate;let r;for(let i=0;i<e.length;i+=1)typeof e[i+1]<"u"?n>=e[i]&&n<e[i+1]-(e[i+1]-e[i])/2?r=i:n>=e[i]&&n<e[i+1]&&(r=i+1):n>=e[i]&&(r=i);return s.normalizeSlideIndex&&(r<0||typeof r>"u")&&(r=0),r}function si(t){const e=this,s=e.rtlTranslate?e.translate:-e.translate,{snapGrid:n,params:r,activeIndex:i,realIndex:a,snapIndex:o}=e;let c=t,l;const p=g=>{let d=g-e.virtual.slidesBefore;return d<0&&(d=e.virtual.slides.length+d),d>=e.virtual.slides.length&&(d-=e.virtual.slides.length),d};if(typeof c>"u"&&(c=ti(e)),n.indexOf(s)>=0)l=n.indexOf(s);else{const g=Math.min(r.slidesPerGroupSkip,c);l=g+Math.floor((c-g)/r.slidesPerGroup)}if(l>=n.length&&(l=n.length-1),c===i&&!e.params.loop){l!==o&&(e.snapIndex=l,e.emit("snapIndexChange"));return}if(c===i&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=p(c);return}const f=e.grid&&r.grid&&r.grid.rows>1;let h;if(e.virtual&&r.virtual.enabled&&r.loop)h=p(c);else if(f){const g=e.slides.find(v=>v.column===c);let d=parseInt(g.getAttribute("data-swiper-slide-index"),10);Number.isNaN(d)&&(d=Math.max(e.slides.indexOf(g),0)),h=Math.floor(d/r.grid.rows)}else if(e.slides[c]){const g=e.slides[c].getAttribute("data-swiper-slide-index");g?h=parseInt(g,10):h=c}else h=c;Object.assign(e,{previousSnapIndex:o,snapIndex:l,previousRealIndex:a,realIndex:h,previousIndex:i,activeIndex:c}),e.initialized&&et(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(a!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function ni(t,e){const s=this,n=s.params;let r=t.closest(`.${n.slideClass}, swiper-slide`);!r&&s.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(o=>{!r&&o.matches&&o.matches(`.${n.slideClass}, swiper-slide`)&&(r=o)});let i=!1,a;if(r){for(let o=0;o<s.slides.length;o+=1)if(s.slides[o]===r){i=!0,a=o;break}}if(r&&i)s.clickedSlide=r,s.virtual&&s.params.virtual.enabled?s.clickedIndex=parseInt(r.getAttribute("data-swiper-slide-index"),10):s.clickedIndex=a;else{s.clickedSlide=void 0,s.clickedIndex=void 0;return}n.slideToClickedSlide&&s.clickedIndex!==void 0&&s.clickedIndex!==s.activeIndex&&s.slideToClickedSlide()}var ii={updateSize:Yn,updateSlides:Xn,updateAutoHeight:Kn,updateSlidesOffset:Zn,updateSlidesProgress:Qn,updateProgress:Jn,updateSlidesClasses:ei,updateActiveIndex:si,updateClickedSlide:ni};function ri(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:s,rtlTranslate:n,translate:r,wrapperEl:i}=e;if(s.virtualTranslate)return n?-r:r;if(s.cssMode)return r;let a=On(i,t);return a+=e.cssOverflowAdjustment(),n&&(a=-a),a||0}function ai(t,e){const s=this,{rtlTranslate:n,params:r,wrapperEl:i,progress:a}=s;let o=0,c=0;const l=0;s.isHorizontal()?o=n?-t:t:c=t,r.roundLengths&&(o=Math.floor(o),c=Math.floor(c)),s.previousTranslate=s.translate,s.translate=s.isHorizontal()?o:c,r.cssMode?i[s.isHorizontal()?"scrollLeft":"scrollTop"]=s.isHorizontal()?-o:-c:r.virtualTranslate||(s.isHorizontal()?o-=s.cssOverflowAdjustment():c-=s.cssOverflowAdjustment(),i.style.transform=`translate3d(${o}px, ${c}px, ${l}px)`);let p;const f=s.maxTranslate()-s.minTranslate();f===0?p=0:p=(t-s.minTranslate())/f,p!==a&&s.updateProgress(t),s.emit("setTranslate",s.translate,e)}function oi(){return-this.snapGrid[0]}function li(){return-this.snapGrid[this.snapGrid.length-1]}function ci(t,e,s,n,r){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),s===void 0&&(s=!0),n===void 0&&(n=!0);const i=this,{params:a,wrapperEl:o}=i;if(i.animating&&a.preventInteractionOnTransition)return!1;const c=i.minTranslate(),l=i.maxTranslate();let p;if(n&&t>c?p=c:n&&t<l?p=l:p=t,i.updateProgress(p),a.cssMode){const f=i.isHorizontal();if(e===0)o[f?"scrollLeft":"scrollTop"]=-p;else{if(!i.support.smoothScroll)return At({swiper:i,targetPosition:-p,side:f?"left":"top"}),!0;o.scrollTo({[f?"left":"top"]:-p,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(p),s&&(i.emit("beforeTransitionStart",e,r),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(p),s&&(i.emit("beforeTransitionStart",e,r),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(h){!i||i.destroyed||h.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,i.animating=!1,s&&i.emit("transitionEnd"))}),i.wrapperEl.addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd))),!0}var di={getTranslate:ri,setTranslate:ai,minTranslate:oi,maxTranslate:li,translateTo:ci};function ui(t,e){const s=this;s.params.cssMode||(s.wrapperEl.style.transitionDuration=`${t}ms`,s.wrapperEl.style.transitionDelay=t===0?"0ms":""),s.emit("setTransition",t,e)}function Ft(t){let{swiper:e,runCallbacks:s,direction:n,step:r}=t;const{activeIndex:i,previousIndex:a}=e;let o=n;o||(i>a?o="next":i<a?o="prev":o="reset"),e.emit(`transition${r}`),s&&o==="reset"?e.emit(`slideResetTransition${r}`):s&&i!==a&&(e.emit(`slideChangeTransition${r}`),o==="next"?e.emit(`slideNextTransition${r}`):e.emit(`slidePrevTransition${r}`))}function pi(t,e){t===void 0&&(t=!0);const s=this,{params:n}=s;n.cssMode||(n.autoHeight&&s.updateAutoHeight(),Ft({swiper:s,runCallbacks:t,direction:e,step:"Start"}))}function fi(t,e){t===void 0&&(t=!0);const s=this,{params:n}=s;s.animating=!1,!n.cssMode&&(s.setTransition(0),Ft({swiper:s,runCallbacks:t,direction:e,step:"End"}))}var mi={setTransition:ui,transitionStart:pi,transitionEnd:fi};function hi(t,e,s,n,r){t===void 0&&(t=0),s===void 0&&(s=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;let a=t;a<0&&(a=0);const{params:o,snapGrid:c,slidesGrid:l,previousIndex:p,activeIndex:f,rtlTranslate:h,wrapperEl:g,enabled:d}=i;if(!d&&!n&&!r||i.destroyed||i.animating&&o.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=i.params.speed);const v=Math.min(i.params.slidesPerGroupSkip,a);let T=v+Math.floor((a-v)/i.params.slidesPerGroup);T>=c.length&&(T=c.length-1);const b=-c[T];if(o.normalizeSlideIndex)for(let $=0;$<l.length;$+=1){const I=-Math.floor(b*100),P=Math.floor(l[$]*100),k=Math.floor(l[$+1]*100);typeof l[$+1]<"u"?I>=P&&I<k-(k-P)/2?a=$:I>=P&&I<k&&(a=$+1):I>=P&&(a=$)}if(i.initialized&&a!==f&&(!i.allowSlideNext&&(h?b>i.translate&&b>i.minTranslate():b<i.translate&&b<i.minTranslate())||!i.allowSlidePrev&&b>i.translate&&b>i.maxTranslate()&&(f||0)!==a))return!1;a!==(p||0)&&s&&i.emit("beforeSlideChangeStart"),i.updateProgress(b);let u;a>f?u="next":a<f?u="prev":u="reset";const m=i.virtual&&i.params.virtual.enabled;if(!(m&&r)&&(h&&-b===i.translate||!h&&b===i.translate))return i.updateActiveIndex(a),o.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),o.effect!=="slide"&&i.setTranslate(b),u!=="reset"&&(i.transitionStart(s,u),i.transitionEnd(s,u)),!1;if(o.cssMode){const $=i.isHorizontal(),I=h?b:-b;if(e===0)m&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),m&&!i._cssModeVirtualInitialSet&&i.params.initialSlide>0?(i._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{g[$?"scrollLeft":"scrollTop"]=I})):g[$?"scrollLeft":"scrollTop"]=I,m&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._immediateVirtual=!1});else{if(!i.support.smoothScroll)return At({swiper:i,targetPosition:I,side:$?"left":"top"}),!0;g.scrollTo({[$?"left":"top"]:I,behavior:"smooth"})}return!0}const x=Dt().isSafari;return m&&!r&&x&&i.isElement&&i.virtual.update(!1,!1,a),i.setTransition(e),i.setTranslate(b),i.updateActiveIndex(a),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,n),i.transitionStart(s,u),e===0?i.transitionEnd(s,u):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(I){!i||i.destroyed||I.target===this&&(i.wrapperEl.removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(s,u))}),i.wrapperEl.addEventListener("transitionend",i.onSlideToWrapperTransitionEnd)),!0}function gi(t,e,s,n){t===void 0&&(t=0),s===void 0&&(s=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;if(r.destroyed)return;typeof e>"u"&&(e=r.params.speed);const i=r.grid&&r.params.grid&&r.params.grid.rows>1;let a=t;if(r.params.loop)if(r.virtual&&r.params.virtual.enabled)a=a+r.virtual.slidesBefore;else{let o;if(i){const h=a*r.params.grid.rows;o=r.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===h).column}else o=r.getSlideIndexByData(a);const c=i?Math.ceil(r.slides.length/r.params.grid.rows):r.slides.length,{centeredSlides:l}=r.params;let p=r.params.slidesPerView;p==="auto"?p=r.slidesPerViewDynamic():(p=Math.ceil(parseFloat(r.params.slidesPerView,10)),l&&p%2===0&&(p=p+1));let f=c-o<p;if(l&&(f=f||o<Math.ceil(p/2)),n&&l&&r.params.slidesPerView!=="auto"&&!i&&(f=!1),f){const h=l?o<r.activeIndex?"prev":"next":o-r.activeIndex-1<r.params.slidesPerView?"next":"prev";r.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?o+1:o-c+1,slideRealIndex:h==="next"?r.realIndex:void 0})}if(i){const h=a*r.params.grid.rows;a=r.slides.find(g=>g.getAttribute("data-swiper-slide-index")*1===h).column}else a=r.getSlideIndexByData(a)}return requestAnimationFrame(()=>{r.slideTo(a,e,s,n)}),r}function vi(t,e,s){e===void 0&&(e=!0);const n=this,{enabled:r,params:i,animating:a}=n;if(!r||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);let o=i.slidesPerGroup;i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(o=Math.max(n.slidesPerViewDynamic("current",!0),1));const c=n.activeIndex<i.slidesPerGroupSkip?1:o,l=n.virtual&&i.virtual.enabled;if(i.loop){if(a&&!l&&i.loopPreventsSliding)return!1;if(n.loopFix({direction:"next"}),n._clientLeft=n.wrapperEl.clientLeft,n.activeIndex===n.slides.length-1&&i.cssMode)return requestAnimationFrame(()=>{n.slideTo(n.activeIndex+c,t,e,s)}),!0}return i.rewind&&n.isEnd?n.slideTo(0,t,e,s):n.slideTo(n.activeIndex+c,t,e,s)}function yi(t,e,s){e===void 0&&(e=!0);const n=this,{params:r,snapGrid:i,slidesGrid:a,rtlTranslate:o,enabled:c,animating:l}=n;if(!c||n.destroyed)return n;typeof t>"u"&&(t=n.params.speed);const p=n.virtual&&r.virtual.enabled;if(r.loop){if(l&&!p&&r.loopPreventsSliding)return!1;n.loopFix({direction:"prev"}),n._clientLeft=n.wrapperEl.clientLeft}const f=o?n.translate:-n.translate;function h(u){return u<0?-Math.floor(Math.abs(u)):Math.floor(u)}const g=h(f),d=i.map(u=>h(u)),v=r.freeMode&&r.freeMode.enabled;let T=i[d.indexOf(g)-1];if(typeof T>"u"&&(r.cssMode||v)){let u;i.forEach((m,y)=>{g>=m&&(u=y)}),typeof u<"u"&&(T=v?i[u]:i[u>0?u-1:u])}let b=0;if(typeof T<"u"&&(b=a.indexOf(T),b<0&&(b=n.activeIndex-1),r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(b=b-n.slidesPerViewDynamic("previous",!0)+1,b=Math.max(b,0))),r.rewind&&n.isBeginning){const u=n.params.virtual&&n.params.virtual.enabled&&n.virtual?n.virtual.slides.length-1:n.slides.length-1;return n.slideTo(u,t,e,s)}else if(r.loop&&n.activeIndex===0&&r.cssMode)return requestAnimationFrame(()=>{n.slideTo(b,t,e,s)}),!0;return n.slideTo(b,t,e,s)}function wi(t,e,s){e===void 0&&(e=!0);const n=this;if(!n.destroyed)return typeof t>"u"&&(t=n.params.speed),n.slideTo(n.activeIndex,t,e,s)}function bi(t,e,s,n){e===void 0&&(e=!0),n===void 0&&(n=.5);const r=this;if(r.destroyed)return;typeof t>"u"&&(t=r.params.speed);let i=r.activeIndex;const a=Math.min(r.params.slidesPerGroupSkip,i),o=a+Math.floor((i-a)/r.params.slidesPerGroup),c=r.rtlTranslate?r.translate:-r.translate;if(c>=r.snapGrid[o]){const l=r.snapGrid[o],p=r.snapGrid[o+1];c-l>(p-l)*n&&(i+=r.params.slidesPerGroup)}else{const l=r.snapGrid[o-1],p=r.snapGrid[o];c-l<=(p-l)*n&&(i-=r.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,r.slidesGrid.length-1),r.slideTo(i,t,e,s)}function _i(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:s}=t,n=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let r=t.getSlideIndexWhenGrid(t.clickedIndex),i;const a=t.isElement?"swiper-slide":`.${e.slideClass}`,o=t.grid&&t.params.grid&&t.params.grid.rows>1;if(e.loop){if(t.animating)return;i=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?t.slideToLoop(i):r>(o?(t.slides.length-n)/2-(t.params.grid.rows-1):t.slides.length-n)?(t.loopFix(),r=t.getSlideIndex(se(s,`${a}[data-swiper-slide-index="${i}"]`)[0]),Lt(()=>{t.slideTo(r)})):t.slideTo(r)}else t.slideTo(r)}var Si={slideTo:hi,slideToLoop:gi,slideNext:vi,slidePrev:yi,slideReset:wi,slideToClosest:bi,slideToClickedSlide:_i};function Ci(t,e){const s=this,{params:n,slidesEl:r}=s;if(!n.loop||s.virtual&&s.params.virtual.enabled)return;const i=()=>{se(r,`.${n.slideClass}, swiper-slide`).forEach((g,d)=>{g.setAttribute("data-swiper-slide-index",d)})},a=()=>{const h=se(r,`.${n.slideBlankClass}`);h.forEach(g=>{g.remove()}),h.length>0&&(s.recalcSlides(),s.updateSlides())},o=s.grid&&n.grid&&n.grid.rows>1;n.loopAddBlankSlides&&(n.slidesPerGroup>1||o)&&a();const c=n.slidesPerGroup*(o?n.grid.rows:1),l=s.slides.length%c!==0,p=o&&s.slides.length%n.grid.rows!==0,f=h=>{for(let g=0;g<h;g+=1){const d=s.isElement?Ge("swiper-slide",[n.slideBlankClass]):Ge("div",[n.slideClass,n.slideBlankClass]);s.slidesEl.append(d)}};if(l){if(n.loopAddBlankSlides){const h=c-s.slides.length%c;f(h),s.recalcSlides(),s.updateSlides()}else Re("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(p){if(n.loopAddBlankSlides){const h=n.grid.rows-s.slides.length%n.grid.rows;f(h),s.recalcSlides(),s.updateSlides()}else Re("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();s.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next",initial:e})}function Ti(t){let{slideRealIndex:e,slideTo:s=!0,direction:n,setTranslate:r,activeSlideIndex:i,initial:a,byController:o,byMousewheel:c}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:p,allowSlidePrev:f,allowSlideNext:h,slidesEl:g,params:d}=l,{centeredSlides:v,initialSlide:T}=d;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&d.virtual.enabled){s&&(!d.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):d.centeredSlides&&l.snapIndex<d.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=f,l.allowSlideNext=h,l.emit("loopFix");return}let b=d.slidesPerView;b==="auto"?b=l.slidesPerViewDynamic():(b=Math.ceil(parseFloat(d.slidesPerView,10)),v&&b%2===0&&(b=b+1));const u=d.slidesPerGroupAuto?b:d.slidesPerGroup;let m=v?Math.max(u,Math.ceil(b/2)):u;m%u!==0&&(m+=u-m%u),m+=d.loopAdditionalSlides,l.loopedSlides=m;const y=l.grid&&d.grid&&d.grid.rows>1;p.length<b+m||l.params.effect==="cards"&&p.length<b+m*2?Re("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):y&&d.grid.fill==="row"&&Re("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const C=[],x=[],$=y?Math.ceil(p.length/d.grid.rows):p.length,I=a&&$-T<b&&!v;let P=I?T:l.activeIndex;typeof i>"u"?i=l.getSlideIndex(p.find(A=>A.classList.contains(d.slideActiveClass))):P=i;const k=n==="next"||!n,E=n==="prev"||!n;let O=0,F=0;const W=(y?p[i].column:i)+(v&&typeof r>"u"?-b/2+.5:0);if(W<m){O=Math.max(m-W,u);for(let A=0;A<m-W;A+=1){const q=A-Math.floor(A/$)*$;if(y){const B=$-q-1;for(let j=p.length-1;j>=0;j-=1)p[j].column===B&&C.push(j)}else C.push($-q-1)}}else if(W+b>$-m){F=Math.max(W-($-m*2),u),I&&(F=Math.max(F,b-$+T+1));for(let A=0;A<F;A+=1){const q=A-Math.floor(A/$)*$;y?p.forEach((B,j)=>{B.column===q&&x.push(j)}):x.push(q)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),l.params.effect==="cards"&&p.length<b+m*2&&(x.includes(i)&&x.splice(x.indexOf(i),1),C.includes(i)&&C.splice(C.indexOf(i),1)),E&&C.forEach(A=>{p[A].swiperLoopMoveDOM=!0,g.prepend(p[A]),p[A].swiperLoopMoveDOM=!1}),k&&x.forEach(A=>{p[A].swiperLoopMoveDOM=!0,g.append(p[A]),p[A].swiperLoopMoveDOM=!1}),l.recalcSlides(),d.slidesPerView==="auto"?l.updateSlides():y&&(C.length>0&&E||x.length>0&&k)&&l.slides.forEach((A,q)=>{l.grid.updateSlide(q,A,l.slides)}),d.watchSlidesProgress&&l.updateSlidesOffset(),s){if(C.length>0&&E){if(typeof e>"u"){const A=l.slidesGrid[P],B=l.slidesGrid[P+O]-A;c?l.setTranslate(l.translate-B):(l.slideTo(P+Math.ceil(O),0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-B,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-B))}else if(r){const A=y?C.length/d.grid.rows:C.length;l.slideTo(l.activeIndex+A,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(x.length>0&&k)if(typeof e>"u"){const A=l.slidesGrid[P],B=l.slidesGrid[P-F]-A;c?l.setTranslate(l.translate-B):(l.slideTo(P-F,0,!1,!0),r&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-B,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-B))}else{const A=y?x.length/d.grid.rows:x.length;l.slideTo(l.activeIndex-A,0,!1,!0)}}if(l.allowSlidePrev=f,l.allowSlideNext=h,l.controller&&l.controller.control&&!o){const A={slideRealIndex:e,direction:n,setTranslate:r,activeSlideIndex:i,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(q=>{!q.destroyed&&q.params.loop&&q.loopFix({...A,slideTo:q.params.slidesPerView===d.slidesPerView?s:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...A,slideTo:l.controller.control.params.slidesPerView===d.slidesPerView?s:!1})}l.emit("loopFix")}function ki(){const t=this,{params:e,slidesEl:s}=t;if(!e.loop||!s||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const n=[];t.slides.forEach(r=>{const i=typeof r.swiperSlideIndex>"u"?r.getAttribute("data-swiper-slide-index")*1:r.swiperSlideIndex;n[i]=r}),t.slides.forEach(r=>{r.removeAttribute("data-swiper-slide-index")}),n.forEach(r=>{s.append(r)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var xi={loopCreate:Ci,loopFix:Ti,loopDestroy:ki};function $i(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const s=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),s.style.cursor="move",s.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Ei(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Mi={setGrabCursor:$i,unsetGrabCursor:Ei};function Ii(t,e){e===void 0&&(e=this);function s(n){if(!n||n===ne()||n===K())return null;n.assignedSlot&&(n=n.assignedSlot);const r=n.closest(t);return!r&&!n.getRootNode?null:r||s(n.getRootNode().host)}return s(e)}function mt(t,e,s){const n=K(),{params:r}=t,i=r.edgeSwipeDetection,a=r.edgeSwipeThreshold;return i&&(s<=a||s>=n.innerWidth-a)?i==="prevent"?(e.preventDefault(),!0):!1:!0}function Pi(t){const e=this,s=ne();let n=t;n.originalEvent&&(n=n.originalEvent);const r=e.touchEventsData;if(n.type==="pointerdown"){if(r.pointerId!==null&&r.pointerId!==n.pointerId)return;r.pointerId=n.pointerId}else n.type==="touchstart"&&n.targetTouches.length===1&&(r.touchId=n.targetTouches[0].identifier);if(n.type==="touchstart"){mt(e,n,n.targetTouches[0].pageX);return}const{params:i,touches:a,enabled:o}=e;if(!o||!i.simulateTouch&&n.pointerType==="mouse"||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let c=n.target;if(i.touchEventsTarget==="wrapper"&&!Rn(c,e.wrapperEl)||"which"in n&&n.which===3||"button"in n&&n.button>0||r.isTouched&&r.isMoved)return;const l=!!i.noSwipingClass&&i.noSwipingClass!=="",p=n.composedPath?n.composedPath():n.path;l&&n.target&&n.target.shadowRoot&&p&&(c=p[0]);const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,h=!!(n.target&&n.target.shadowRoot);if(i.noSwiping&&(h?Ii(f,c):c.closest(f))){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler))return;a.currentX=n.pageX,a.currentY=n.pageY;const g=a.currentX,d=a.currentY;if(!mt(e,n,g))return;Object.assign(r,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),a.startX=g,a.startY=d,r.touchStartTime=Fe(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(r.allowThresholdMove=!1);let v=!0;c.matches(r.focusableElements)&&(v=!1,c.nodeName==="SELECT"&&(r.isTouched=!1)),s.activeElement&&s.activeElement.matches(r.focusableElements)&&s.activeElement!==c&&(n.pointerType==="mouse"||n.pointerType!=="mouse"&&!c.matches(r.focusableElements))&&s.activeElement.blur();const T=v&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||T)&&!c.isContentEditable&&n.preventDefault(),i.freeMode&&i.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",n)}function Li(t){const e=ne(),s=this,n=s.touchEventsData,{params:r,touches:i,rtlTranslate:a,enabled:o}=s;if(!o||!r.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(n.touchId!==null||c.pointerId!==n.pointerId))return;let l;if(c.type==="touchmove"){if(l=[...c.changedTouches].find(C=>C.identifier===n.touchId),!l||l.identifier!==n.touchId)return}else l=c;if(!n.isTouched){n.startMoving&&n.isScrolling&&s.emit("touchMoveOpposite",c);return}const p=l.pageX,f=l.pageY;if(c.preventedByNestedSwiper){i.startX=p,i.startY=f;return}if(!s.allowTouchMove){c.target.matches(n.focusableElements)||(s.allowClick=!1),n.isTouched&&(Object.assign(i,{startX:p,startY:f,currentX:p,currentY:f}),n.touchStartTime=Fe());return}if(r.touchReleaseOnEdges&&!r.loop)if(s.isVertical()){if(f<i.startY&&s.translate<=s.maxTranslate()||f>i.startY&&s.translate>=s.minTranslate()){n.isTouched=!1,n.isMoved=!1;return}}else{if(a&&(p>i.startX&&-s.translate<=s.maxTranslate()||p<i.startX&&-s.translate>=s.minTranslate()))return;if(!a&&(p<i.startX&&s.translate<=s.maxTranslate()||p>i.startX&&s.translate>=s.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(n.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(n.focusableElements)){n.isMoved=!0,s.allowClick=!1;return}n.allowTouchCallbacks&&s.emit("touchMove",c),i.previousX=i.currentX,i.previousY=i.currentY,i.currentX=p,i.currentY=f;const h=i.currentX-i.startX,g=i.currentY-i.startY;if(s.params.threshold&&Math.sqrt(h**2+g**2)<s.params.threshold)return;if(typeof n.isScrolling>"u"){let C;s.isHorizontal()&&i.currentY===i.startY||s.isVertical()&&i.currentX===i.startX?n.isScrolling=!1:h*h+g*g>=25&&(C=Math.atan2(Math.abs(g),Math.abs(h))*180/Math.PI,n.isScrolling=s.isHorizontal()?C>r.touchAngle:90-C>r.touchAngle)}if(n.isScrolling&&s.emit("touchMoveOpposite",c),typeof n.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(n.startMoving=!0),n.isScrolling||c.type==="touchmove"&&n.preventTouchMoveFromPointerMove){n.isTouched=!1;return}if(!n.startMoving)return;s.allowClick=!1,!r.cssMode&&c.cancelable&&c.preventDefault(),r.touchMoveStopPropagation&&!r.nested&&c.stopPropagation();let d=s.isHorizontal()?h:g,v=s.isHorizontal()?i.currentX-i.previousX:i.currentY-i.previousY;r.oneWayMovement&&(d=Math.abs(d)*(a?1:-1),v=Math.abs(v)*(a?1:-1)),i.diff=d,d*=r.touchRatio,a&&(d=-d,v=-v);const T=s.touchesDirection;s.swipeDirection=d>0?"prev":"next",s.touchesDirection=v>0?"prev":"next";const b=s.params.loop&&!r.cssMode,u=s.touchesDirection==="next"&&s.allowSlideNext||s.touchesDirection==="prev"&&s.allowSlidePrev;if(!n.isMoved){if(b&&u&&s.loopFix({direction:s.swipeDirection}),n.startTranslate=s.getTranslate(),s.setTransition(0),s.animating){const C=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});s.wrapperEl.dispatchEvent(C)}n.allowMomentumBounce=!1,r.grabCursor&&(s.allowSlideNext===!0||s.allowSlidePrev===!0)&&s.setGrabCursor(!0),s.emit("sliderFirstMove",c)}if(new Date().getTime(),r._loopSwapReset!==!1&&n.isMoved&&n.allowThresholdMove&&T!==s.touchesDirection&&b&&u&&Math.abs(d)>=1){Object.assign(i,{startX:p,startY:f,currentX:p,currentY:f,startTranslate:n.currentTranslate}),n.loopSwapReset=!0,n.startTranslate=n.currentTranslate;return}s.emit("sliderMove",c),n.isMoved=!0,n.currentTranslate=d+n.startTranslate;let m=!0,y=r.resistanceRatio;if(r.touchReleaseOnEdges&&(y=0),d>0?(b&&u&&n.allowThresholdMove&&n.currentTranslate>(r.centeredSlides?s.minTranslate()-s.slidesSizesGrid[s.activeIndex+1]-(r.slidesPerView!=="auto"&&s.slides.length-r.slidesPerView>=2?s.slidesSizesGrid[s.activeIndex+1]+s.params.spaceBetween:0)-s.params.spaceBetween:s.minTranslate())&&s.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),n.currentTranslate>s.minTranslate()&&(m=!1,r.resistance&&(n.currentTranslate=s.minTranslate()-1+(-s.minTranslate()+n.startTranslate+d)**y))):d<0&&(b&&u&&n.allowThresholdMove&&n.currentTranslate<(r.centeredSlides?s.maxTranslate()+s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween+(r.slidesPerView!=="auto"&&s.slides.length-r.slidesPerView>=2?s.slidesSizesGrid[s.slidesSizesGrid.length-1]+s.params.spaceBetween:0):s.maxTranslate())&&s.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:s.slides.length-(r.slidesPerView==="auto"?s.slidesPerViewDynamic():Math.ceil(parseFloat(r.slidesPerView,10)))}),n.currentTranslate<s.maxTranslate()&&(m=!1,r.resistance&&(n.currentTranslate=s.maxTranslate()+1-(s.maxTranslate()-n.startTranslate-d)**y))),m&&(c.preventedByNestedSwiper=!0),!s.allowSlideNext&&s.swipeDirection==="next"&&n.currentTranslate<n.startTranslate&&(n.currentTranslate=n.startTranslate),!s.allowSlidePrev&&s.swipeDirection==="prev"&&n.currentTranslate>n.startTranslate&&(n.currentTranslate=n.startTranslate),!s.allowSlidePrev&&!s.allowSlideNext&&(n.currentTranslate=n.startTranslate),r.threshold>0)if(Math.abs(d)>r.threshold||n.allowThresholdMove){if(!n.allowThresholdMove){n.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,n.currentTranslate=n.startTranslate,i.diff=s.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{n.currentTranslate=n.startTranslate;return}!r.followFinger||r.cssMode||((r.freeMode&&r.freeMode.enabled&&s.freeMode||r.watchSlidesProgress)&&(s.updateActiveIndex(),s.updateSlidesClasses()),r.freeMode&&r.freeMode.enabled&&s.freeMode&&s.freeMode.onTouchMove(),s.updateProgress(n.currentTranslate),s.setTranslate(n.currentTranslate))}function Ai(t){const e=this,s=e.touchEventsData;let n=t;n.originalEvent&&(n=n.originalEvent);let r;if(n.type==="touchend"||n.type==="touchcancel"){if(r=[...n.changedTouches].find(C=>C.identifier===s.touchId),!r||r.identifier!==s.touchId)return}else{if(s.touchId!==null||n.pointerId!==s.pointerId)return;r=n}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(n.type)&&!(["pointercancel","contextmenu"].includes(n.type)&&(e.browser.isSafari||e.browser.isWebView)))return;s.pointerId=null,s.touchId=null;const{params:a,touches:o,rtlTranslate:c,slidesGrid:l,enabled:p}=e;if(!p||!a.simulateTouch&&n.pointerType==="mouse")return;if(s.allowTouchCallbacks&&e.emit("touchEnd",n),s.allowTouchCallbacks=!1,!s.isTouched){s.isMoved&&a.grabCursor&&e.setGrabCursor(!1),s.isMoved=!1,s.startMoving=!1;return}a.grabCursor&&s.isMoved&&s.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const f=Fe(),h=f-s.touchStartTime;if(e.allowClick){const C=n.path||n.composedPath&&n.composedPath();e.updateClickedSlide(C&&C[0]||n.target,C),e.emit("tap click",n),h<300&&f-s.lastClickTime<300&&e.emit("doubleTap doubleClick",n)}if(s.lastClickTime=Fe(),Lt(()=>{e.destroyed||(e.allowClick=!0)}),!s.isTouched||!s.isMoved||!e.swipeDirection||o.diff===0&&!s.loopSwapReset||s.currentTranslate===s.startTranslate&&!s.loopSwapReset){s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;return}s.isTouched=!1,s.isMoved=!1,s.startMoving=!1;let g;if(a.followFinger?g=c?e.translate:-e.translate:g=-s.currentTranslate,a.cssMode)return;if(a.freeMode&&a.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:g});return}const d=g>=-e.maxTranslate()&&!e.params.loop;let v=0,T=e.slidesSizesGrid[0];for(let C=0;C<l.length;C+=C<a.slidesPerGroupSkip?1:a.slidesPerGroup){const x=C<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;typeof l[C+x]<"u"?(d||g>=l[C]&&g<l[C+x])&&(v=C,T=l[C+x]-l[C]):(d||g>=l[C])&&(v=C,T=l[l.length-1]-l[l.length-2])}let b=null,u=null;a.rewind&&(e.isBeginning?u=a.virtual&&a.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(b=0));const m=(g-l[v])/T,y=v<a.slidesPerGroupSkip-1?1:a.slidesPerGroup;if(h>a.longSwipesMs){if(!a.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(m>=a.longSwipesRatio?e.slideTo(a.rewind&&e.isEnd?b:v+y):e.slideTo(v)),e.swipeDirection==="prev"&&(m>1-a.longSwipesRatio?e.slideTo(v+y):u!==null&&m<0&&Math.abs(m)>a.longSwipesRatio?e.slideTo(u):e.slideTo(v))}else{if(!a.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(n.target===e.navigation.nextEl||n.target===e.navigation.prevEl)?n.target===e.navigation.nextEl?e.slideTo(v+y):e.slideTo(v):(e.swipeDirection==="next"&&e.slideTo(b!==null?b:v+y),e.swipeDirection==="prev"&&e.slideTo(u!==null?u:v))}}function ht(){const t=this,{params:e,el:s}=t;if(s&&s.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:n,allowSlidePrev:r,snapGrid:i}=t,a=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const o=a&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!o?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!a?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=r,t.allowSlideNext=n,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function Bi(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function zi(){const t=this,{wrapperEl:e,rtlTranslate:s,enabled:n}=t;if(!n)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let r;const i=t.maxTranslate()-t.minTranslate();i===0?r=0:r=(t.translate-t.minTranslate())/i,r!==t.progress&&t.updateProgress(s?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function Oi(t){const e=this;ze(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function Di(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Rt=(t,e)=>{const s=ne(),{params:n,el:r,wrapperEl:i,device:a}=t,o=!!n.nested,c=e==="on"?"addEventListener":"removeEventListener",l=e;!r||typeof r=="string"||(s[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:o}),r[c]("touchstart",t.onTouchStart,{passive:!1}),r[c]("pointerdown",t.onTouchStart,{passive:!1}),s[c]("touchmove",t.onTouchMove,{passive:!1,capture:o}),s[c]("pointermove",t.onTouchMove,{passive:!1,capture:o}),s[c]("touchend",t.onTouchEnd,{passive:!0}),s[c]("pointerup",t.onTouchEnd,{passive:!0}),s[c]("pointercancel",t.onTouchEnd,{passive:!0}),s[c]("touchcancel",t.onTouchEnd,{passive:!0}),s[c]("pointerout",t.onTouchEnd,{passive:!0}),s[c]("pointerleave",t.onTouchEnd,{passive:!0}),s[c]("contextmenu",t.onTouchEnd,{passive:!0}),(n.preventClicks||n.preventClicksPropagation)&&r[c]("click",t.onClick,!0),n.cssMode&&i[c]("scroll",t.onScroll),n.updateOnWindowResize?t[l](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",ht,!0):t[l]("observerUpdate",ht,!0),r[c]("load",t.onLoad,{capture:!0}))};function Fi(){const t=this,{params:e}=t;t.onTouchStart=Pi.bind(t),t.onTouchMove=Li.bind(t),t.onTouchEnd=Ai.bind(t),t.onDocumentTouchStart=Di.bind(t),e.cssMode&&(t.onScroll=zi.bind(t)),t.onClick=Bi.bind(t),t.onLoad=Oi.bind(t),Rt(t,"on")}function Ri(){Rt(this,"off")}var Gi={attachEvents:Fi,detachEvents:Ri};const gt=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function Hi(){const t=this,{realIndex:e,initialized:s,params:n,el:r}=t,i=n.breakpoints;if(!i||i&&Object.keys(i).length===0)return;const a=ne(),o=n.breakpointsBase==="window"||!n.breakpointsBase?n.breakpointsBase:"container",c=["window","container"].includes(n.breakpointsBase)||!n.breakpointsBase?t.el:a.querySelector(n.breakpointsBase),l=t.getBreakpoint(i,o,c);if(!l||t.currentBreakpoint===l)return;const f=(l in i?i[l]:void 0)||t.originalParams,h=gt(t,n),g=gt(t,f),d=t.params.grabCursor,v=f.grabCursor,T=n.enabled;h&&!g?(r.classList.remove(`${n.containerModifierClass}grid`,`${n.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&g&&(r.classList.add(`${n.containerModifierClass}grid`),(f.grid.fill&&f.grid.fill==="column"||!f.grid.fill&&n.grid.fill==="column")&&r.classList.add(`${n.containerModifierClass}grid-column`),t.emitContainerClasses()),d&&!v?t.unsetGrabCursor():!d&&v&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(x=>{if(typeof f[x]>"u")return;const $=n[x]&&n[x].enabled,I=f[x]&&f[x].enabled;$&&!I&&t[x].disable(),!$&&I&&t[x].enable()});const b=f.direction&&f.direction!==n.direction,u=n.loop&&(f.slidesPerView!==n.slidesPerView||b),m=n.loop;b&&s&&t.changeDirection(),Q(t.params,f);const y=t.params.enabled,C=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),T&&!y?t.disable():!T&&y&&t.enable(),t.currentBreakpoint=l,t.emit("_beforeBreakpoint",f),s&&(u?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!m&&C?(t.loopCreate(e),t.updateSlides()):m&&!C&&t.loopDestroy()),t.emit("breakpoint",f)}function Vi(t,e,s){if(e===void 0&&(e="window"),!t||e==="container"&&!s)return;let n=!1;const r=K(),i=e==="window"?r.innerHeight:s.clientHeight,a=Object.keys(t).map(o=>{if(typeof o=="string"&&o.indexOf("@")===0){const c=parseFloat(o.substr(1));return{value:i*c,point:o}}return{value:o,point:o}});a.sort((o,c)=>parseInt(o.value,10)-parseInt(c.value,10));for(let o=0;o<a.length;o+=1){const{point:c,value:l}=a[o];e==="window"?r.matchMedia(`(min-width: ${l}px)`).matches&&(n=c):l<=s.clientWidth&&(n=c)}return n||"max"}var Ni={setBreakpoint:Hi,getBreakpoint:Vi};function Wi(t,e){const s=[];return t.forEach(n=>{typeof n=="object"?Object.keys(n).forEach(r=>{n[r]&&s.push(e+r)}):typeof n=="string"&&s.push(e+n)}),s}function ji(){const t=this,{classNames:e,params:s,rtl:n,el:r,device:i}=t,a=Wi(["initialized",s.direction,{"free-mode":t.params.freeMode&&s.freeMode.enabled},{autoheight:s.autoHeight},{rtl:n},{grid:s.grid&&s.grid.rows>1},{"grid-column":s.grid&&s.grid.rows>1&&s.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":s.cssMode},{centered:s.cssMode&&s.centeredSlides},{"watch-progress":s.watchSlidesProgress}],s.containerModifierClass);e.push(...a),r.classList.add(...e),t.emitContainerClasses()}function Ui(){const t=this,{el:e,classNames:s}=t;!e||typeof e=="string"||(e.classList.remove(...s),t.emitContainerClasses())}var qi={addClasses:ji,removeClasses:Ui};function Yi(){const t=this,{isLocked:e,params:s}=t,{slidesOffsetBefore:n}=s;if(n){const r=t.slides.length-1,i=t.slidesGrid[r]+t.slidesSizesGrid[r]+n*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;s.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),s.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var Xi={checkOverflow:Yi},vt={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function Ki(t,e){return function(n){n===void 0&&(n={});const r=Object.keys(n)[0],i=n[r];if(typeof i!="object"||i===null){Q(e,n);return}if(t[r]===!0&&(t[r]={enabled:!0}),r==="navigation"&&t[r]&&t[r].enabled&&!t[r].prevEl&&!t[r].nextEl&&(t[r].auto=!0),["pagination","scrollbar"].indexOf(r)>=0&&t[r]&&t[r].enabled&&!t[r].el&&(t[r].auto=!0),!(r in t&&"enabled"in i)){Q(e,n);return}typeof t[r]=="object"&&!("enabled"in t[r])&&(t[r].enabled=!0),t[r]||(t[r]={enabled:!1}),Q(e,n)}}const Ke={eventsEmitter:qn,update:ii,translate:di,transition:mi,slide:Si,loop:xi,grabCursor:Mi,events:Gi,breakpoints:Ni,checkOverflow:Xi,classes:qi},Ze={};class J{constructor(){let e,s;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.length===1&&r[0].constructor&&Object.prototype.toString.call(r[0]).slice(8,-1)==="Object"?s=r[0]:[e,s]=r,s||(s={}),s=Q({},s),e&&!s.el&&(s.el=e);const a=ne();if(s.el&&typeof s.el=="string"&&a.querySelectorAll(s.el).length>1){const p=[];return a.querySelectorAll(s.el).forEach(f=>{const h=Q({},s,{el:f});p.push(new J(h))}),p}const o=this;o.__swiper__=!0,o.support=zt(),o.device=Ot({userAgent:s.userAgent}),o.browser=Dt(),o.eventsListeners={},o.eventsAnyListeners=[],o.modules=[...o.__modules__],s.modules&&Array.isArray(s.modules)&&o.modules.push(...s.modules);const c={};o.modules.forEach(p=>{p({params:s,swiper:o,extendParams:Ki(s,c),on:o.on.bind(o),once:o.once.bind(o),off:o.off.bind(o),emit:o.emit.bind(o)})});const l=Q({},vt,c);return o.params=Q({},l,Ze,s),o.originalParams=Q({},o.params),o.passedParams=Q({},s),o.params&&o.params.on&&Object.keys(o.params.on).forEach(p=>{o.on(p,o.params.on[p])}),o.params&&o.params.onAny&&o.onAny(o.params.onAny),Object.assign(o,{enabled:o.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return o.params.direction==="horizontal"},isVertical(){return o.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:o.params.allowSlideNext,allowSlidePrev:o.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:o.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:o.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),o.emit("_swiper"),o.params.init&&o.init(),o}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:s,params:n}=this,r=se(s,`.${n.slideClass}, swiper-slide`),i=He(r[0]);return He(e)-i}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(s=>s.getAttribute("data-swiper-slide-index")*1===e))}getSlideIndexWhenGrid(e){return this.grid&&this.params.grid&&this.params.grid.rows>1&&(this.params.grid.fill==="column"?e=Math.floor(e/this.params.grid.rows):this.params.grid.fill==="row"&&(e=e%Math.ceil(this.slides.length/this.params.grid.rows))),e}recalcSlides(){const e=this,{slidesEl:s,params:n}=e;e.slides=se(s,`.${n.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,s){const n=this;e=Math.min(Math.max(e,0),1);const r=n.minTranslate(),a=(n.maxTranslate()-r)*e+r;n.translateTo(a,typeof s>"u"?0:s),n.updateActiveIndex(),n.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const s=e.el.className.split(" ").filter(n=>n.indexOf("swiper")===0||n.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",s.join(" "))}getSlideClasses(e){const s=this;return s.destroyed?"":e.className.split(" ").filter(n=>n.indexOf("swiper-slide")===0||n.indexOf(s.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const s=[];e.slides.forEach(n=>{const r=e.getSlideClasses(n);s.push({slideEl:n,classNames:r}),e.emit("_slideClass",n,r)}),e.emit("_slideClasses",s)}slidesPerViewDynamic(e,s){e===void 0&&(e="current"),s===void 0&&(s=!1);const n=this,{params:r,slides:i,slidesGrid:a,slidesSizesGrid:o,size:c,activeIndex:l}=n;let p=1;if(typeof r.slidesPerView=="number")return r.slidesPerView;if(r.centeredSlides){let f=i[l]?Math.ceil(i[l].swiperSlideSize):0,h;for(let g=l+1;g<i.length;g+=1)i[g]&&!h&&(f+=Math.ceil(i[g].swiperSlideSize),p+=1,f>c&&(h=!0));for(let g=l-1;g>=0;g-=1)i[g]&&!h&&(f+=i[g].swiperSlideSize,p+=1,f>c&&(h=!0))}else if(e==="current")for(let f=l+1;f<i.length;f+=1)(s?a[f]+o[f]-a[l]<c:a[f]-a[l]<c)&&(p+=1);else for(let f=l-1;f>=0;f-=1)a[l]-a[f]<c&&(p+=1);return p}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:s,params:n}=e;n.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(a=>{a.complete&&ze(e,a)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function r(){const a=e.rtlTranslate?e.translate*-1:e.translate,o=Math.min(Math.max(a,e.maxTranslate()),e.minTranslate());e.setTranslate(o),e.updateActiveIndex(),e.updateSlidesClasses()}let i;if(n.freeMode&&n.freeMode.enabled&&!n.cssMode)r(),n.autoHeight&&e.updateAutoHeight();else{if((n.slidesPerView==="auto"||n.slidesPerView>1)&&e.isEnd&&!n.centeredSlides){const a=e.virtual&&n.virtual.enabled?e.virtual.slides:e.slides;i=e.slideTo(a.length-1,0,!1,!0)}else i=e.slideTo(e.activeIndex,0,!1,!0);i||r()}n.watchOverflow&&s!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,s){s===void 0&&(s=!0);const n=this,r=n.params.direction;return e||(e=r==="horizontal"?"vertical":"horizontal"),e===r||e!=="horizontal"&&e!=="vertical"||(n.el.classList.remove(`${n.params.containerModifierClass}${r}`),n.el.classList.add(`${n.params.containerModifierClass}${e}`),n.emitContainerClasses(),n.params.direction=e,n.slides.forEach(i=>{e==="vertical"?i.style.width="":i.style.height=""}),n.emit("changeDirection"),s&&n.update()),n}changeLanguageDirection(e){const s=this;s.rtl&&e==="rtl"||!s.rtl&&e==="ltr"||(s.rtl=e==="rtl",s.rtlTranslate=s.params.direction==="horizontal"&&s.rtl,s.rtl?(s.el.classList.add(`${s.params.containerModifierClass}rtl`),s.el.dir="rtl"):(s.el.classList.remove(`${s.params.containerModifierClass}rtl`),s.el.dir="ltr"),s.update())}mount(e){const s=this;if(s.mounted)return!0;let n=e||s.params.el;if(typeof n=="string"&&(n=document.querySelector(n)),!n)return!1;n.swiper=s,n.parentNode&&n.parentNode.host&&n.parentNode.host.nodeName===s.params.swiperElementNodeName.toUpperCase()&&(s.isElement=!0);const r=()=>`.${(s.params.wrapperClass||"").trim().split(" ").join(".")}`;let a=n&&n.shadowRoot&&n.shadowRoot.querySelector?n.shadowRoot.querySelector(r()):se(n,r())[0];return!a&&s.params.createElements&&(a=Ge("div",s.params.wrapperClass),n.append(a),se(n,`.${s.params.slideClass}`).forEach(o=>{a.append(o)})),Object.assign(s,{el:n,wrapperEl:a,slidesEl:s.isElement&&!n.parentNode.host.slideSlots?n.parentNode.host:a,hostEl:s.isElement?n.parentNode.host:n,mounted:!0,rtl:n.dir.toLowerCase()==="rtl"||oe(n,"direction")==="rtl",rtlTranslate:s.params.direction==="horizontal"&&(n.dir.toLowerCase()==="rtl"||oe(n,"direction")==="rtl"),wrongRTL:oe(a,"display")==="-webkit-box"}),!0}init(e){const s=this;if(s.initialized||s.mount(e)===!1)return s;s.emit("beforeInit"),s.params.breakpoints&&s.setBreakpoint(),s.addClasses(),s.updateSize(),s.updateSlides(),s.params.watchOverflow&&s.checkOverflow(),s.params.grabCursor&&s.enabled&&s.setGrabCursor(),s.params.loop&&s.virtual&&s.params.virtual.enabled?s.slideTo(s.params.initialSlide+s.virtual.slidesBefore,0,s.params.runCallbacksOnInit,!1,!0):s.slideTo(s.params.initialSlide,0,s.params.runCallbacksOnInit,!1,!0),s.params.loop&&s.loopCreate(void 0,!0),s.attachEvents();const r=[...s.el.querySelectorAll('[loading="lazy"]')];return s.isElement&&r.push(...s.hostEl.querySelectorAll('[loading="lazy"]')),r.forEach(i=>{i.complete?ze(s,i):i.addEventListener("load",a=>{ze(s,a.target)})}),et(s),s.initialized=!0,et(s),s.emit("init"),s.emit("afterInit"),s}destroy(e,s){e===void 0&&(e=!0),s===void 0&&(s=!0);const n=this,{params:r,el:i,wrapperEl:a,slides:o}=n;return typeof n.params>"u"||n.destroyed||(n.emit("beforeDestroy"),n.initialized=!1,n.detachEvents(),r.loop&&n.loopDestroy(),s&&(n.removeClasses(),i&&typeof i!="string"&&i.removeAttribute("style"),a&&a.removeAttribute("style"),o&&o.length&&o.forEach(c=>{c.classList.remove(r.slideVisibleClass,r.slideFullyVisibleClass,r.slideActiveClass,r.slideNextClass,r.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),n.emit("destroy"),Object.keys(n.eventsListeners).forEach(c=>{n.off(c)}),e!==!1&&(n.el&&typeof n.el!="string"&&(n.el.swiper=null),Bn(n)),n.destroyed=!0),null}static extendDefaults(e){Q(Ze,e)}static get extendedDefaults(){return Ze}static get defaults(){return vt}static installModule(e){J.prototype.__modules__||(J.prototype.__modules__=[]);const s=J.prototype.__modules__;typeof e=="function"&&s.indexOf(e)<0&&s.push(e)}static use(e){return Array.isArray(e)?(e.forEach(s=>J.installModule(s)),J):(J.installModule(e),J)}}Object.keys(Ke).forEach(t=>{Object.keys(Ke[t]).forEach(e=>{J.prototype[e]=Ke[t][e]})});J.use([jn,Un]);function Zi(t,e,s,n){return t.params.createElements&&Object.keys(n).forEach(r=>{if(!s[r]&&s.auto===!0){let i=se(t.el,`.${n[r]}`)[0];i||(i=Ge("div",n[r]),i.className=n[r],t.el.append(i)),s[r]=i,e[r]=i}}),s}function be(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function Qi(t){let{swiper:e,extendParams:s,on:n,emit:r}=t;const i="swiper-pagination";s({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:u=>u,formatFractionTotal:u=>u,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),e.pagination={el:null,bullets:[]};let a,o=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function l(u,m){const{bulletActiveClass:y}=e.params.pagination;u&&(u=u[`${m==="prev"?"previous":"next"}ElementSibling`],u&&(u.classList.add(`${y}-${m}`),u=u[`${m==="prev"?"previous":"next"}ElementSibling`],u&&u.classList.add(`${y}-${m}-${m}`)))}function p(u,m,y){if(u=u%y,m=m%y,m===u+1)return"next";if(m===u-1)return"previous"}function f(u){const m=u.target.closest(be(e.params.pagination.bulletClass));if(!m)return;u.preventDefault();const y=He(m)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===y)return;const C=p(e.realIndex,y,e.slides.length);C==="next"?e.slideNext():C==="previous"?e.slidePrev():e.slideToLoop(y)}else e.slideTo(y)}function h(){const u=e.rtl,m=e.params.pagination;if(c())return;let y=e.pagination.el;y=re(y);let C,x;const $=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,I=e.params.loop?Math.ceil($/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(x=e.previousRealIndex||0,C=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(C=e.snapIndex,x=e.previousSnapIndex):(x=e.previousIndex||0,C=e.activeIndex||0),m.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const P=e.pagination.bullets;let k,E,O;if(m.dynamicBullets&&(a=Je(P[0],e.isHorizontal()?"width":"height"),y.forEach(F=>{F.style[e.isHorizontal()?"width":"height"]=`${a*(m.dynamicMainBullets+4)}px`}),m.dynamicMainBullets>1&&x!==void 0&&(o+=C-(x||0),o>m.dynamicMainBullets-1?o=m.dynamicMainBullets-1:o<0&&(o=0)),k=Math.max(C-o,0),E=k+(Math.min(P.length,m.dynamicMainBullets)-1),O=(E+k)/2),P.forEach(F=>{const N=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(W=>`${m.bulletActiveClass}${W}`)].map(W=>typeof W=="string"&&W.includes(" ")?W.split(" "):W).flat();F.classList.remove(...N)}),y.length>1)P.forEach(F=>{const N=He(F);N===C?F.classList.add(...m.bulletActiveClass.split(" ")):e.isElement&&F.setAttribute("part","bullet"),m.dynamicBullets&&(N>=k&&N<=E&&F.classList.add(...`${m.bulletActiveClass}-main`.split(" ")),N===k&&l(F,"prev"),N===E&&l(F,"next"))});else{const F=P[C];if(F&&F.classList.add(...m.bulletActiveClass.split(" ")),e.isElement&&P.forEach((N,W)=>{N.setAttribute("part",W===C?"bullet-active":"bullet")}),m.dynamicBullets){const N=P[k],W=P[E];for(let A=k;A<=E;A+=1)P[A]&&P[A].classList.add(...`${m.bulletActiveClass}-main`.split(" "));l(N,"prev"),l(W,"next")}}if(m.dynamicBullets){const F=Math.min(P.length,m.dynamicMainBullets+4),N=(a*F-a)/2-O*a,W=u?"right":"left";P.forEach(A=>{A.style[e.isHorizontal()?W:"top"]=`${N}px`})}}y.forEach((P,k)=>{if(m.type==="fraction"&&(P.querySelectorAll(be(m.currentClass)).forEach(E=>{E.textContent=m.formatFractionCurrent(C+1)}),P.querySelectorAll(be(m.totalClass)).forEach(E=>{E.textContent=m.formatFractionTotal(I)})),m.type==="progressbar"){let E;m.progressbarOpposite?E=e.isHorizontal()?"vertical":"horizontal":E=e.isHorizontal()?"horizontal":"vertical";const O=(C+1)/I;let F=1,N=1;E==="horizontal"?F=O:N=O,P.querySelectorAll(be(m.progressbarFillClass)).forEach(W=>{W.style.transform=`translate3d(0,0,0) scaleX(${F}) scaleY(${N})`,W.style.transitionDuration=`${e.params.speed}ms`})}m.type==="custom"&&m.renderCustom?(pt(P,m.renderCustom(e,C+1,I)),k===0&&r("paginationRender",P)):(k===0&&r("paginationRender",P),r("paginationUpdate",P)),e.params.watchOverflow&&e.enabled&&P.classList[e.isLocked?"add":"remove"](m.lockClass)})}function g(){const u=e.params.pagination;if(c())return;const m=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let y=e.pagination.el;y=re(y);let C="";if(u.type==="bullets"){let x=e.params.loop?Math.ceil(m/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&x>m&&(x=m);for(let $=0;$<x;$+=1)u.renderBullet?C+=u.renderBullet.call(e,$,u.bulletClass):C+=`<${u.bulletElement} ${e.isElement?'part="bullet"':""} class="${u.bulletClass}"></${u.bulletElement}>`}u.type==="fraction"&&(u.renderFraction?C=u.renderFraction.call(e,u.currentClass,u.totalClass):C=`<span class="${u.currentClass}"></span> / <span class="${u.totalClass}"></span>`),u.type==="progressbar"&&(u.renderProgressbar?C=u.renderProgressbar.call(e,u.progressbarFillClass):C=`<span class="${u.progressbarFillClass}"></span>`),e.pagination.bullets=[],y.forEach(x=>{u.type!=="custom"&&pt(x,C||""),u.type==="bullets"&&e.pagination.bullets.push(...x.querySelectorAll(be(u.bulletClass)))}),u.type!=="custom"&&r("paginationRender",y[0])}function d(){e.params.pagination=Zi(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const u=e.params.pagination;if(!u.el)return;let m;typeof u.el=="string"&&e.isElement&&(m=e.el.querySelector(u.el)),!m&&typeof u.el=="string"&&(m=[...document.querySelectorAll(u.el)]),m||(m=u.el),!(!m||m.length===0)&&(e.params.uniqueNavElements&&typeof u.el=="string"&&Array.isArray(m)&&m.length>1&&(m=[...e.el.querySelectorAll(u.el)],m.length>1&&(m=m.find(y=>Bt(y,".swiper")[0]===e.el))),Array.isArray(m)&&m.length===1&&(m=m[0]),Object.assign(e.pagination,{el:m}),m=re(m),m.forEach(y=>{u.type==="bullets"&&u.clickable&&y.classList.add(...(u.clickableClass||"").split(" ")),y.classList.add(u.modifierClass+u.type),y.classList.add(e.isHorizontal()?u.horizontalClass:u.verticalClass),u.type==="bullets"&&u.dynamicBullets&&(y.classList.add(`${u.modifierClass}${u.type}-dynamic`),o=0,u.dynamicMainBullets<1&&(u.dynamicMainBullets=1)),u.type==="progressbar"&&u.progressbarOpposite&&y.classList.add(u.progressbarOppositeClass),u.clickable&&y.addEventListener("click",f),e.enabled||y.classList.add(u.lockClass)}))}function v(){const u=e.params.pagination;if(c())return;let m=e.pagination.el;m&&(m=re(m),m.forEach(y=>{y.classList.remove(u.hiddenClass),y.classList.remove(u.modifierClass+u.type),y.classList.remove(e.isHorizontal()?u.horizontalClass:u.verticalClass),u.clickable&&(y.classList.remove(...(u.clickableClass||"").split(" ")),y.removeEventListener("click",f))})),e.pagination.bullets&&e.pagination.bullets.forEach(y=>y.classList.remove(...u.bulletActiveClass.split(" ")))}n("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const u=e.params.pagination;let{el:m}=e.pagination;m=re(m),m.forEach(y=>{y.classList.remove(u.horizontalClass,u.verticalClass),y.classList.add(e.isHorizontal()?u.horizontalClass:u.verticalClass)})}),n("init",()=>{e.params.pagination.enabled===!1?b():(d(),g(),h())}),n("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),n("snapIndexChange",()=>{h()}),n("snapGridLengthChange",()=>{g(),h()}),n("destroy",()=>{v()}),n("enable disable",()=>{let{el:u}=e.pagination;u&&(u=re(u),u.forEach(m=>m.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),n("lock unlock",()=>{h()}),n("click",(u,m)=>{const y=m.target,C=re(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&C&&C.length>0&&!y.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&y===e.navigation.nextEl||e.navigation.prevEl&&y===e.navigation.prevEl))return;const x=C[0].classList.contains(e.params.pagination.hiddenClass);r(x===!0?"paginationShow":"paginationHide"),C.forEach($=>$.classList.toggle(e.params.pagination.hiddenClass))}});const T=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:u}=e.pagination;u&&(u=re(u),u.forEach(m=>m.classList.remove(e.params.pagination.paginationDisabledClass))),d(),g(),h()},b=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:u}=e.pagination;u&&(u=re(u),u.forEach(m=>m.classList.add(e.params.pagination.paginationDisabledClass))),v()};Object.assign(e.pagination,{enable:T,disable:b,render:g,update:h,init:d,destroy:v})}function Ji(t){let{swiper:e,extendParams:s,on:n,emit:r,params:i}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},s({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let a,o,c=i&&i.autoplay?i.autoplay.delay:3e3,l=i&&i.autoplay?i.autoplay.delay:3e3,p,f=new Date().getTime(),h,g,d,v,T,b,u;function m(B){!e||e.destroyed||!e.wrapperEl||B.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",m),!(u||B.detail&&B.detail.bySwiperTouchMove)&&k())}const y=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?h=!0:h&&(l=p,h=!1);const B=e.autoplay.paused?p:f+l-new Date().getTime();e.autoplay.timeLeft=B,r("autoplayTimeLeft",B,B/c),o=requestAnimationFrame(()=>{y()})},C=()=>{let B;return e.virtual&&e.params.virtual.enabled?B=e.slides.find(X=>X.classList.contains("swiper-slide-active")):B=e.slides[e.activeIndex],B?parseInt(B.getAttribute("data-swiper-autoplay"),10):void 0},x=B=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(o),y();let j=typeof B>"u"?e.params.autoplay.delay:B;c=e.params.autoplay.delay,l=e.params.autoplay.delay;const X=C();!Number.isNaN(X)&&X>0&&typeof B>"u"&&(j=X,c=X,l=X),p=j;const de=e.params.speed,Ee=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(de,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,de,!0,!0),r("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(de,!0,!0),r("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,de,!0,!0),r("autoplay")),e.params.cssMode&&(f=new Date().getTime(),requestAnimationFrame(()=>{x()})))};return j>0?(clearTimeout(a),a=setTimeout(()=>{Ee()},j)):requestAnimationFrame(()=>{Ee()}),j},$=()=>{f=new Date().getTime(),e.autoplay.running=!0,x(),r("autoplayStart")},I=()=>{e.autoplay.running=!1,clearTimeout(a),cancelAnimationFrame(o),r("autoplayStop")},P=(B,j)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(a),B||(b=!0);const X=()=>{r("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",m):k()};if(e.autoplay.paused=!0,j){T&&(p=e.params.autoplay.delay),T=!1,X();return}p=(p||e.params.autoplay.delay)-(new Date().getTime()-f),!(e.isEnd&&p<0&&!e.params.loop)&&(p<0&&(p=0),X())},k=()=>{e.isEnd&&p<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(f=new Date().getTime(),b?(b=!1,x(p)):x(),e.autoplay.paused=!1,r("autoplayResume"))},E=()=>{if(e.destroyed||!e.autoplay.running)return;const B=ne();B.visibilityState==="hidden"&&(b=!0,P(!0)),B.visibilityState==="visible"&&k()},O=B=>{B.pointerType==="mouse"&&(b=!0,u=!0,!(e.animating||e.autoplay.paused)&&P(!0))},F=B=>{B.pointerType==="mouse"&&(u=!1,e.autoplay.paused&&k())},N=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",O),e.el.addEventListener("pointerleave",F))},W=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",O),e.el.removeEventListener("pointerleave",F))},A=()=>{ne().addEventListener("visibilitychange",E)},q=()=>{ne().removeEventListener("visibilitychange",E)};n("init",()=>{e.params.autoplay.enabled&&(N(),A(),$())}),n("destroy",()=>{W(),q(),e.autoplay.running&&I()}),n("_freeModeStaticRelease",()=>{(d||b)&&k()}),n("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?I():P(!0,!0)}),n("beforeTransitionStart",(B,j,X)=>{e.destroyed||!e.autoplay.running||(X||!e.params.autoplay.disableOnInteraction?P(!0,!0):I())}),n("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){I();return}g=!0,d=!1,b=!1,v=setTimeout(()=>{b=!0,d=!0,P(!0)},200)}}),n("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!g)){if(clearTimeout(v),clearTimeout(a),e.params.autoplay.disableOnInteraction){d=!1,g=!1;return}d&&e.params.cssMode&&k(),d=!1,g=!1}}),n("slideChange",()=>{e.destroyed||!e.autoplay.running||(T=!0)}),Object.assign(e.autoplay,{start:$,stop:I,pause:P,resume:k})}const er={class:"hero-carousel"},tr={class:"swiper-wrapper"},sr=["src","alt"],nr={key:0,class:"swiper-pagination hero-carousel__pagination"},Ne=V({__name:"HeroCarousel",props:{images:{},autoplay:{type:[Number,Boolean],default:3e3},showPagination:{type:Boolean,default:!0},height:{default:"298px"},borderRadius:{default:"0 0 40px 40px"},paginationBottom:{default:"48px"}},setup(t,{expose:e}){ts(o=>({f8bdf8d2:o.borderRadius,"6e9917a0":o.height,"0860b4c4":o.paginationBottom}));const s=t,n=R();let r=null;const i=async()=>{!n.value||s.images.length===0||(await Ae(),n.value&&(r=new J(n.value,{modules:[Qi,Ji],slidesPerView:1,spaceBetween:0,loop:s.images.length>1,pagination:s.showPagination?{el:".hero-carousel__pagination",clickable:!0,bulletClass:"hero-carousel__bullet",bulletActiveClass:"hero-carousel__bullet--active",type:"bullets",dynamicBullets:!1,renderBullet:(o,c)=>`<span class="${c}" data-index="${o}"></span>`}:!1,autoplay:s.autoplay?{delay:s.autoplay,disableOnInteraction:!1,pauseOnMouseEnter:!0}:!1,touchRatio:1,touchAngle:45,grabCursor:!0,speed:300})))},a=()=>{r&&(r.destroy(!0,!0),r=null)};return Ve(()=>{i()}),es(()=>{a()}),e({swiper:()=>r,slideTo:o=>r?.slideTo(o),slideNext:()=>r?.slideNext(),slidePrev:()=>r?.slidePrev()}),(o,c)=>(w(),S("div",er,[_("div",{class:"swiper hero-carousel__swiper",ref_key:"swiperContainer",ref:n},[_("div",tr,[(w(!0),S(te,null,ae(o.images,(l,p)=>(w(),S("div",{key:p,class:"swiper-slide hero-carousel__slide"},[_("img",{src:l.url,alt:l.alt||`Слайд ${p+1}`,class:"hero-carousel__image",loading:"lazy"},null,8,sr)]))),128))]),o.showPagination?(w(),S("div",nr)):G("",!0)],512)]))}}),Gt=Te("miniapp",()=>{const t=R(null),e=R([]),s=R(!1),n=R(!1);async function r(a){const o=window.Telegram?.WebApp;o?.ready?.();const c=o?.initData??"";if(!c)return;const{data:l}=await le.post(`/api/site/miniapp/restaurants/${a}/auth`,{init_data:c});t.value=l,e.value=Array.isArray(l.friends)?l.friends:[],s.value=!!l.liked_by_me}async function i(a){if(t.value&&!n.value){n.value=!0;try{const o=s.value;s.value=!o,o?await le.delete("/api/site/likes",{params:{user_id:t.value.id,likeable_type:"restaurant",likeable_id:a}}):await le.post("/api/site/likes",{user_id:t.value.id,likeable_type:"restaurant",likeable_id:a})}finally{n.value=!1}}}return{me:t,friends:e,likedByMe:s,isLiking:n,authWithInitData:r,toggleRestaurantLike:i}}),ir={class:"feed-tabs"},rr=["onClick","aria-label"],ar=V({__name:"FeedTabs",props:{categories:{},activeCategory:{}},emits:["categoryChange"],setup(t,{emit:e}){const s=t,n=e,{trigger:r}=ye(),i=a=>{const o=s.categories.find(c=>c.id===a);o&&(r(),n("categoryChange",a,o))};return(a,o)=>(w(),S("div",ir,[(w(!0),S(te,null,ae(a.categories,c=>(w(),S("button",{key:c.id,class:ce(["feed-tabs__item",{"feed-tabs__item--active":c.id===a.activeCategory}]),onClick:l=>i(c.id),"aria-label":`Фильтр ${c.label}`},D(c.label),11,rr))),128))]))}}),or=Te("news",()=>{const{items:t,loading:e,error:s,isLoadingMore:n,hasMore:r,getData:i,loadMore:a}=$t("news");return{getNewsData:i,loadMore:a,loading:e,isLoadingMore:n,error:s,news:t,hasMore:r}}),lr={class:"share-bottom-sheet"},cr={class:"share-bottom-sheet__actions"},dr=["title"],ur={class:"share-bottom-sheet__action-icon"},pr={class:"share-bottom-sheet__action-icon"},fr=V({__name:"ShareBottomSheet",props:{type:{},item:{},slug:{},itemSlug:{}},emits:["close"],setup(t,{emit:e}){const s=t,n=e,{shareEventToStory:r,shareNewsToStory:i,isAvailable:a,isVersionSupported:o}=It(),c=De(),{restaurant:l}=ue(c),p=z(()=>{const b=s.item?.images&&s.item.images.length>0;return a.value&&o.value&&b}),f=z(()=>a.value?o.value?s.item?.images&&s.item.images.length>0?"Добавить в историю":"Нет изображений для публикации":"Требуется обновление Telegram":"Функция недоступна в этом браузере"),h=()=>{if(!s.item||!p.value)return;let b=!1;if(s.type==="event"){const u=s.item;b=r(u.images?.[0]?.url||"",u.title,s.slug,s.itemSlug),console.log("Событие добавлено в историю:",u.title)}else if(s.type==="news"){const u=s.item;b=i(u.images?.[0]?.url||"",u.title,s.slug,s.itemSlug),console.log("Новость добавлена в историю:",u.title)}b&&console.log("Успешно добавлено в историю"),n("close")},g=()=>{const b=window.location.origin,u=l.value?.bot_username||"";if(s.type==="event"){const y=`e_${s.itemSlug}`;return u?`https://t.me/${u}?startapp=${y}`:`${b}/restaurants/${s.slug}/events/${s.itemSlug}`}const m=`n_${s.itemSlug}`;return u?`https://t.me/${u}?startapp=${m}`:`${b}/restaurants/${s.slug}/news/${s.itemSlug}`},d=()=>s.type==="event"?`🎉 ${s.item.title}

Посмотрите это событие!`:`📰 ${s.item.title}

Интересная новость!`,v=async b=>{try{if(navigator.clipboard&&window.isSecureContext)return await navigator.clipboard.writeText(b),!0;{const u=document.createElement("textarea");u.value=b,u.style.position="fixed",u.style.left="-999999px",u.style.top="-999999px",document.body.appendChild(u),u.focus(),u.select();const m=document.execCommand("copy");return document.body.removeChild(u),m}}catch(u){return console.error("Ошибка копирования:",u),!1}},T=async()=>{if(!s.item)return;const b=g(),u=d(),m={title:s.item.title,text:u,url:b};try{if(navigator.share&&navigator.canShare&&navigator.canShare(m)){await navigator.share(m);const y=window.Telegram?.WebApp;y&&"HapticFeedback"in y&&y.HapticFeedback?.impactOccurred?.("medium"),console.log("Успешно поделились через Web Share API")}else await v(b)?console.log("Ссылка скопирована:",b):console.error("Не удалось скопировать ссылку")}catch(y){console.error("Ошибка при поделиться:",y),await v(b)?console.log("Ссылка скопирована в буфер обмена"):console.error("Не удалось поделиться")}n("close")};return(b,u)=>(w(),S("div",lr,[_("div",cr,[_("button",{class:ce(["share-bottom-sheet__action",{"share-bottom-sheet__action--disabled":!p.value}]),title:f.value,onClick:h},[_("div",ur,[L(U,{name:"streamline-sharp:story-post",class:"share-bottom-sheet__icon"})]),u[0]||(u[0]=_("span",{class:"share-bottom-sheet__action-text"},"Добавить в историю",-1))],10,dr),_("button",{class:"share-bottom-sheet__action",onClick:T},[_("div",pr,[L(U,{name:"humbleicons:share",class:"share-bottom-sheet__icon"})]),u[1]||(u[1]=_("span",{class:"share-bottom-sheet__action-text"},"Поделиться",-1))])])]))}}),Ht=ie(fr,[["__scopeId","data-v-3e6592ba"]]),mr={class:"news-card"},hr={key:0,class:"news-card__media"},gr=["title"],vr={class:"news-card__body"},yr={class:"news-card__title"},wr={key:1,class:"news-card__date"},br=V({__name:"NewsCard",props:{item:{},slug:{}},setup(t){const e=z(()=>t.item.title),s=z(()=>t.item.description),n=z(()=>t.item.created_at??void 0),r=z(()=>(t.item.images??[]).map(g=>({url:typeof g.url=="string"?g.url:String(g.url),alt:t.item.title})).filter(g=>!!g.url)),i=z(()=>n.value?_e(n.value).fromNow():""),{isAvailable:a,isVersionSupported:o}=It(),{open:c}=pe();z(()=>a.value&&o.value&&r.value.length>0);const l=z(()=>a.value?o.value?r.value.length===0?"Нет изображений для публикации":"Поделиться":"Требуется обновление Telegram":"Функция недоступна в этом браузере"),{trigger:p}=ye(),f=()=>{p(),c(Ht,{type:"news",item:t.item,slug:t.slug,itemSlug:t.item.slug},{height:30,showHandle:!0,closableByBackdrop:!0,closableBySwipe:!0})};return(h,g)=>(w(),S("article",mr,[r.value.length>0?(w(),S("div",hr,[L(Ne,{images:r.value,autoplay:4e3,"show-pagination":r.value.length>1,height:"220px","border-radius":"20px","pagination-bottom":"24px"},null,8,["images","show-pagination"]),_("button",{class:"news-card__share-story-btn",onClick:Qe(f,["stop"]),title:l.value},[L(U,{name:"basil:telegram-solid",size:20,class:"shrink-0 text-white",color:"#fff","aria-label":"Поделиться в сторис"})],8,gr)])):G("",!0),_("div",vr,[_("h3",yr,D(e.value),1),s.value?(w(),Y(xt,{key:0,class:"news-card__description",text:s.value,"character-limit":150,"expand-button-text":"еще","collapse-button-text":"свернуть","animation-duration":250},null,8,["text"])):G("",!0),n.value?(w(),S("div",wr,D(i.value),1)):G("",!0)])]))}}),_r=V({__name:"News",props:{slug:{}},setup(t){const e=or(),{news:s,loading:n,error:r,hasMore:i,isLoadingMore:a}=ue(e);return xe(async()=>{await e.getNewsData(t.slug)}),(o,c)=>(w(),Y(Et,{loading:M(n),error:M(r),"has-more":M(i),"is-loading-more":M(a),"on-load-more":M(e).loadMore},{default:ee(()=>[(w(!0),S(te,null,ae(M(s),l=>(w(),Y(br,{key:l.id,item:l,slug:o.slug},null,8,["item","slug"]))),128))]),_:1},8,["loading","error","has-more","is-loading-more","on-load-more"]))}}),Sr=Te("events",()=>{const{items:t,loading:e,error:s,isLoadingMore:n,hasMore:r,getData:i,loadMore:a}=$t("events");return{getEventsData:i,loadMore:a,loading:e,isLoadingMore:n,error:s,events:t,hasMore:r}}),Cr=Te("event",()=>{const t=R(null),e=R(!1),s=R(null);return{event:t,loading:e,error:s,getEventData:async(r,i)=>{e.value=!0,s.value=null,t.value=null;try{const a=await le.get(`/api/site/restaurants/${r}/events/${i}`);t.value=a.data}catch(a){t.value=null,ge(a)&&a.response?.status===404?s.value="Событие не найдено":ge(a)&&a.response?.data?.message?s.value=a.response.data.message:s.value="Произошла ошибка при загрузке события",console.error("Ошибка загрузки события:",a)}finally{e.value=!1}}}});var Vt={name:"TimesCircleIcon",extends:$e};function Tr(t,e,s,n,r,i){return w(),S("svg",H({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.pti()),e[0]||(e[0]=[_("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"},null,-1)]),16)}Vt.render=Tr;var kr=`
    .p-chip {
        display: inline-flex;
        align-items: center;
        background: dt('chip.background');
        color: dt('chip.color');
        border-radius: dt('chip.border.radius');
        padding-block: dt('chip.padding.y');
        padding-inline: dt('chip.padding.x');
        gap: dt('chip.gap');
    }

    .p-chip-icon {
        color: dt('chip.icon.color');
        font-size: dt('chip.icon.font.size');
        width: dt('chip.icon.size');
        height: dt('chip.icon.size');
    }

    .p-chip-image {
        border-radius: 50%;
        width: dt('chip.image.width');
        height: dt('chip.image.height');
        margin-inline-start: calc(-1 * dt('chip.padding.y'));
    }

    .p-chip:has(.p-chip-remove-icon) {
        padding-inline-end: dt('chip.padding.y');
    }

    .p-chip:has(.p-chip-image) {
        padding-block-start: calc(dt('chip.padding.y') / 2);
        padding-block-end: calc(dt('chip.padding.y') / 2);
    }

    .p-chip-remove-icon {
        cursor: pointer;
        font-size: dt('chip.remove.icon.size');
        width: dt('chip.remove.icon.size');
        height: dt('chip.remove.icon.size');
        color: dt('chip.remove.icon.color');
        border-radius: 50%;
        transition:
            outline-color dt('chip.transition.duration'),
            box-shadow dt('chip.transition.duration');
        outline-color: transparent;
    }

    .p-chip-remove-icon:focus-visible {
        box-shadow: dt('chip.remove.icon.focus.ring.shadow');
        outline: dt('chip.remove.icon.focus.ring.width') dt('chip.remove.icon.focus.ring.style') dt('chip.remove.icon.focus.ring.color');
        outline-offset: dt('chip.remove.icon.focus.ring.offset');
    }
`,xr={root:"p-chip p-component",image:"p-chip-image",icon:"p-chip-icon",label:"p-chip-label",removeIcon:"p-chip-remove-icon"},$r=tt.extend({name:"chip",style:kr,classes:xr}),Er={name:"BaseChip",extends:nt,props:{label:{type:[String,Number],default:null},icon:{type:String,default:null},image:{type:String,default:null},removable:{type:Boolean,default:!1},removeIcon:{type:String,default:void 0}},style:$r,provide:function(){return{$pcChip:this,$parentInstance:this}}},Nt={name:"Chip",extends:Er,inheritAttrs:!1,emits:["remove"],data:function(){return{visible:!0}},methods:{onKeydown:function(e){(e.key==="Enter"||e.key==="Backspace")&&this.close(e)},close:function(e){this.visible=!1,this.$emit("remove",e)}},computed:{dataP:function(){return cs({removable:this.removable})}},components:{TimesCircleIcon:Vt}},Mr=["aria-label","data-p"],Ir=["src"];function Pr(t,e,s,n,r,i){return r.visible?(w(),S("div",H({key:0,class:t.cx("root"),"aria-label":t.label},t.ptmi("root"),{"data-p":i.dataP}),[Z(t.$slots,"default",{},function(){return[t.image?(w(),S("img",H({key:0,src:t.image},t.ptm("image"),{class:t.cx("image")}),null,16,Ir)):t.$slots.icon?(w(),Y(Oe(t.$slots.icon),H({key:1,class:t.cx("icon")},t.ptm("icon")),null,16,["class"])):t.icon?(w(),S("span",H({key:2,class:[t.cx("icon"),t.icon]},t.ptm("icon")),null,16)):G("",!0),t.label!==null?(w(),S("div",H({key:3,class:t.cx("label")},t.ptm("label")),D(t.label),17)):G("",!0)]}),t.removable?Z(t.$slots,"removeicon",{key:0,removeCallback:i.close,keydownCallback:i.onKeydown},function(){return[(w(),Y(Oe(t.removeIcon?"span":"TimesCircleIcon"),H({class:[t.cx("removeIcon"),t.removeIcon],onClick:i.close,onKeydown:i.onKeydown},t.ptm("removeIcon")),null,16,["class","onClick","onKeydown"]))]}):G("",!0)],16,Mr)):G("",!0)}Nt.render=Pr;const Lr={class:"event-card__layout"},Ar={class:"event-card__image-container"},Br={key:1,class:"event-card__image-placeholder"},zr={class:"event-card__content"},Or={class:"event-card__date-badges"},Dr={class:"event-card__title"},Fr={class:"event-card__description"},Rr={class:"event-card__chips"},Gr={class:"event-card__chip-text"},Hr={class:"event-card__chip-text"},Vr=V({__name:"EventCard",props:{item:{},slug:{}},emits:["click"],setup(t,{emit:e}){const s=e,n=()=>{s("click",t.item)},r=a=>_e(a).format("D MMMM"),i=a=>_e(a).format("HH:mm");return(a,o)=>{const c=ds,l=Nt,p=us;return w(),Y(p,{class:"event-card",onClick:n},{content:ee(()=>[_("div",Lr,[_("div",Ar,[a.item.images?.[0]?(w(),Y(it,{key:0,src:a.item.images[0].url,alt:a.item.title,class:"event-card__image","object-fit":"cover"},null,8,["src","alt"])):(w(),S("div",Br))]),_("div",zr,[_("div",Or,[L(c,{class:"event-card__date-badge",severity:"secondary"},{default:ee(()=>[o[0]||(o[0]=_("span",{class:"event-card__date-dot"},null,-1)),yt(" "+D(r(a.item.start_at)),1)]),_:1}),a.item.is_sold_out?(w(),Y(c,{key:0,class:"event-card__sold-out-badge",value:"Sold out"})):G("",!0)]),_("h3",Dr,D(a.item.title),1),_("p",Fr,D(a.item.subtitle),1),_("div",Rr,[L(l,{class:"event-card__chip event-card__chip--time"},{default:ee(()=>[L(U,{name:"clock",class:"event-card__chip-icon event-card__chip-icon--time"}),_("span",Gr,D(i(a.item.start_at)),1)]),_:1}),a.item.price?(w(),Y(l,{key:0,class:"event-card__chip event-card__chip--price"},{default:ee(()=>[L(U,{name:"card",class:"event-card__chip-icon event-card__chip-icon--price"}),_("span",Hr,D(M(Mt)(a.item.price)),1)]),_:1})):G("",!0)])])])]),_:1})}}}),Nr={class:"event-bottom-sheet"},Wr={key:0,class:"event-bottom-sheet__loading"},jr={key:1,class:"event-bottom-sheet__error"},Ur={key:2,class:"event-bottom-sheet__content"},qr={class:"event-bottom-sheet__info"},Yr={class:"event-bottom-sheet__title-card"},Xr={class:"event-bottom-sheet__title"},Kr={class:"event-bottom-sheet__info-cards"},Zr={class:"event-bottom-sheet__info-card"},Qr={class:"event-bottom-sheet__info-row"},Jr={class:"event-bottom-sheet__info-text"},ea={class:"event-bottom-sheet__info-row"},ta={class:"event-bottom-sheet__info-text"},sa={key:0,class:"event-bottom-sheet__price-card"},na={class:"event-bottom-sheet__price-text"},ia={class:"event-bottom-sheet__description-card"},ra=["innerHTML"],aa={class:"event-bottom-sheet__actions"},oa={key:3,class:"event-bottom-sheet__not-found"},la=V({__name:"EventBottomSheet",props:{slug:{},eventSlug:{}},setup(t){const e=Cr(),{event:s,loading:n,error:r}=ue(e),{open:i}=pe(),a=z(()=>(s.value?.images??[]).filter(d=>!!d.url).map(d=>({url:d.url,alt:d.name||s.value?.title}))),o=z(()=>rt(s.value?.description??"")),c=g=>_e(g).format("D MMMM"),l=g=>_e(g).format("HH:mm"),{trigger:p}=ye(),f=()=>{const g=s.value?.restaurant?.phone;if(g){const d=g.replace(/[^\d+]/g,"");p(),window.location.href=`tel:${d}`}else console.log("Номер телефона ресторана не найден")},h=()=>{s.value&&(p(),i(Ht,{type:"event",item:s.value,slug:t.slug,itemSlug:t.eventSlug},{height:30,showHandle:!0,closableByBackdrop:!0,closableBySwipe:!0}))};return xe(async()=>{t.slug&&t.eventSlug&&await e.getEventData(t.slug,t.eventSlug)}),(g,d)=>(w(),S("div",Nr,[M(n)?(w(),S("div",Wr,[L(M(Ce))])):M(r)?(w(),S("div",jr,D(M(r)),1)):M(s)?(w(),S("div",Ur,[L(Ne,{images:a.value,autoplay:!1,showPagination:(M(s).images?.length||0)>1,paginationBottom:"12px"},null,8,["images","showPagination"]),_("div",qr,[_("div",Yr,[_("h1",Xr,D(M(s).title),1)]),_("div",Kr,[_("div",Zr,[_("div",Qr,[L(U,{name:"calendar",class:"event-bottom-sheet__info-icon"}),_("span",Jr,D(c(M(s).start_at)),1)]),_("div",ea,[L(U,{name:"clock",class:"event-bottom-sheet__info-icon"}),_("span",ta,D(l(M(s).start_at)),1)])]),M(s).price?(w(),S("div",sa,[L(U,{name:"card",class:"event-bottom-sheet__price-icon"}),_("span",na,D(M(Mt)(M(s).price)),1)])):G("",!0)]),_("div",ia,[d[0]||(d[0]=_("h3",{class:"event-bottom-sheet__description-title"},"О событии",-1)),_("div",{class:"event-bottom-sheet__description-text",innerHTML:o.value},null,8,ra)])]),_("div",aa,[_("button",{class:"event-bottom-sheet__book-button",onClick:f},"Забронировать"),_("button",{class:"event-bottom-sheet__telegram-button",onClick:h},[L(U,{name:"telegram-icon-fill",class:"event-bottom-sheet__telegram-icon"})])])])):(w(),S("div",oa,"Событие не найдено"))]))}}),Wt=ie(la,[["__scopeId","data-v-c22ae729"]]),ca=V({__name:"Events",props:{slug:{}},setup(t){const{open:e}=pe(),s=Sr(),{events:n,loading:r,error:i,hasMore:a,isLoadingMore:o}=ue(s),{getEventsData:c,loadMore:l}=s,p=f=>{e(Wt,{eventSlug:f.slug,slug:t.slug},{height:90})};return xe(async()=>{await c(t.slug)}),(f,h)=>(w(),Y(Et,{loading:M(r),error:M(i),"has-more":M(a),"is-loading-more":M(o),"on-load-more":M(l)},{default:ee(()=>[(w(!0),S(te,null,ae(M(n),g=>(w(),Y(Vr,{key:g.id,item:g,slug:f.slug,onClick:p},null,8,["item","slug"]))),128))]),_:1},8,["loading","error","has-more","is-loading-more","on-load-more"]))}}),da={};function ua(t,e){return null}const pa=ie(da,[["render",ua]]),fa={class:"feed"},ma=V({__name:"Feed",props:{slug:{}},setup(t){const e=[{id:he.News,label:"Новости"},{id:he.Events,label:"События"}],s=R(e[0].id),n=i=>{s.value=i},r={[he.News]:_r,[he.Events]:ca,[he.Offers]:pa};return(i,a)=>(w(),S("section",fa,[L(ar,{categories:e,"active-category":s.value,onCategoryChange:n},null,8,["active-category"]),(w(),Y(Oe(r[s.value]),{slug:i.slug},null,8,["slug"]))]))}}),ha={class:"dish-bottom-sheet"},ga={class:"dish-bottom-sheet__image-container"},va={key:1,class:"dish-bottom-sheet__image-placeholder"},ya={class:"dish-bottom-sheet__content"},wa={class:"dish-bottom-sheet__title"},ba={key:0},_a={key:0,class:"dish-bottom-sheet__description"},Sa=V({__name:"DishBottomSheet",props:{dish:{}},setup(t){const e=t;function s(n){return Math.round(n).toLocaleString("ru-RU")}return(n,r)=>(w(),S("div",ha,[_("div",ga,[e.dish.images?.[0]?(w(),Y(M(it),{key:0,src:e.dish.images[0].url,alt:e.dish.name,class:"dish-bottom-sheet__image"},null,8,["src","alt"])):(w(),S("div",va,[...r[0]||(r[0]=[_("i",{class:"pi pi-image"},null,-1)])]))]),_("div",ya,[_("h2",wa,[yt(D(e.dish.name)+" ",1),e.dish.price?(w(),S("span",ba," — "+D(s(e.dish.price))+"₽",1)):G("",!0)]),e.dish.description?(w(),S("div",_a,D(e.dish.description),1)):G("",!0)])]))}}),Ca={key:0,class:"chef-recommendations__section"},Ta={class:"chef-recommendations__items"},ka=["onClick"],xa=V({__name:"ChefRecommendations",props:{chefRecommendations:{}},setup(t){const e=t,{chefRecommendations:s}=ss(e),{open:n}=pe(),r=i=>{n(Sa,{dish:i},{bottomGap:!0})};return(i,a)=>M(s).length>0?(w(),S("section",Ca,[a[0]||(a[0]=_("h2",{class:"chef-recommendations__title"},"Шеф рекомендует",-1)),_("div",Ta,[(w(!0),S(te,null,ae(M(s),o=>(w(),S("div",{key:o.id,class:"chef-recommendations__item",onClick:c=>r(o)},[L(M(it),{src:o.images?.[0]?.url||"",alt:o.name,width:"120",height:"120","object-fit":"cover","border-radius":"lg",class:"chef-recommendations__image chef-recommendations__image--regular"},null,8,["src","alt"])],8,ka))),128))])])):G("",!0)}}),$a={class:"restaurant-card__header"},Ea={class:"restaurant-card__title"},Ma={key:0,class:"restaurant-card__description"},Ia=V({__name:"RestaurantCardHeader",props:{restaurant:{}},setup(t){return(e,s)=>(w(),S("div",$a,[_("h1",Ea,D(e.restaurant?.name),1),e.restaurant?.subtitle?(w(),S("p",Ma,D(e.restaurant.subtitle),1)):G("",!0)]))}}),Pa={class:"restaurant-card__details"},La={key:0,class:"restaurant-card__detail-item restaurant-card__detail-item--schedule"},Aa={class:"restaurant-card__detail-icon restaurant-card__detail-icon--schedule"},Ba={class:"restaurant-card__detail-schedule"},za={key:1,class:"restaurant-card__detail-item"},Oa={class:"restaurant-card__detail-icon"},Da={class:"restaurant-card__detail-text"},Fa={key:2,class:"restaurant-card__detail-item"},Ra={class:"restaurant-card__detail-icon"},Ga=V({__name:"RestaurantCardDetails",props:{restaurant:{}},setup(t){const e=t,s=z(()=>{if(!e.restaurant?.average_receipt)return"";const i=e.restaurant.average_receipt.toString().trim();return/^\d+$/.test(i)?`${i} ₽`:i}),n=i=>`https://yandex.ru/maps/?text=${encodeURIComponent(i)}`,r=()=>{if(!e.restaurant?.address)return;const i=n(e.restaurant.address);window.open(i,"_blank")};return(i,a)=>(w(),S("div",Pa,[i.restaurant?.working_hours?(w(),S("div",La,[_("div",Aa,[L(M(U),{name:"clock",size:"16",color:"gray"})]),_("div",Ba,[L(M(tn),{"working-hours":i.restaurant.working_hours},null,8,["working-hours"])])])):G("",!0),i.restaurant?.average_receipt?(w(),S("div",za,[_("div",Oa,[L(M(U),{name:"card",size:"16",color:"gray"})]),_("span",Da,D(s.value),1)])):G("",!0),i.restaurant?.address?(w(),S("div",Fa,[_("div",Ra,[L(M(U),{name:"location",size:"16",color:"gray"})]),_("span",{class:"restaurant-card__detail-text restaurant-card__detail-text--clickable",onClick:r},D(i.restaurant.address),1)])):G("",!0)]))}}),Ha=ie(Ga,[["__scopeId","data-v-e0e1d100"]]),Va={class:"restaurant-card__actions"},Na=V({__name:"RestaurantCardActions",props:{contactInfo:{default:()=>({})}},emits:["showMenu","showBar","showPhotos"],setup(t,{emit:e}){const s=e;function n(){s("showMenu")}function r(){s("showBar")}function i(){s("showPhotos")}return(a,o)=>(w(),S("div",Va,[L(M(Be),{label:"Меню",variant:"secondary",size:"medium",onClick:n,fullWidth:""}),L(M(Be),{label:"Бар",variant:"secondary",size:"medium",onClick:r,fullWidth:""}),L(M(Be),{label:"Фото",variant:"secondary",size:"medium",onClick:i,fullWidth:""}),a.contactInfo.phone||a.contactInfo.telegram?(w(),Y(xn,{key:0,phone:a.contactInfo.phone,"telegram-username":a.contactInfo.telegram},null,8,["phone","telegram-username"])):G("",!0)]))}}),Wa={class:"repeat-button-container"},ja=["disabled"],Ua={class:"repeat-button__avatars"},qa=["src","alt"],Ya={key:1,class:"repeat-button__avatar-initials"},Xa={key:0,class:"repeat-button__count"},Ka=V({__name:"RepeatButton",props:{isRepeated:{type:Boolean,default:!1},friendsCount:{default:0},friends:{default:()=>[]},disabled:{type:Boolean,default:!1}},emits:["toggle","friendsClick"],setup(t,{emit:e}){const s=t,n=e,{trigger:r}=ye(),i=()=>{const d=!s.isRepeated;r(),n("toggle",d)},a=()=>{r(),n("friendsClick",s.friends||[])},o=d=>{const v=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FECA57","#FF9FF3","#54A0FF","#5F27CD","#00D2D3","#FF9F43","#EE5A24","#0ABDE3","#10AC84","#F79F1F","#A3CB38"];let T=0;for(let b=0;b<d.length;b++)T=d.charCodeAt(b)+((T<<5)-T);return v[Math.abs(T)%v.length]},c=d=>"name"in d,l=d=>c(d)?d.profile_photo_url||void 0:d.full_avatar_url||d.avatar_url||void 0,p=d=>c(d)?d.name:`${d.first_name||""} ${d.last_name||""}`.trim()||"User",f=d=>{if(c(d)){const b=d.name.split(" "),u=b[0]?.charAt(0)||"",m=b[1]?.charAt(0)||"";return(u+m).toUpperCase()||u.toUpperCase()||"U"}const v=d.first_name?.charAt(0)||"",T=d.last_name?.charAt(0)||"";return(v+T).toUpperCase()||d.first_name?.charAt(0)?.toUpperCase()||"U"},h=z(()=>(s.friends||[]).slice(0,3)),g=z(()=>{const d=(s.friends||[]).length;return d>3?d-3:0});return(d,v)=>(w(),S("div",Wa,[_("button",{class:ce(["repeat-button__toggle",{"repeat-button__toggle--active":d.isRepeated}]),disabled:d.disabled,onClick:i},[_("div",{class:ce(["repeat-button__toggle-indicator",{"repeat-button__toggle-indicator--active":d.isRepeated}])}," R ",2),v[0]||(v[0]=_("span",{class:"repeat-button__label"},"Repeat",-1))],10,ja),(s.friends||[]).length>0?(w(),S("div",{key:0,class:"repeat-button__friends",onClick:a},[_("div",Ua,[(w(!0),S(te,null,ae(h.value,(T,b)=>(w(),S("div",{key:T.id,class:"repeat-button__avatar",style:ke({zIndex:3-b,backgroundColor:l(T)?"transparent":o(p(T))})},[l(T)?(w(),S("img",{key:0,src:l(T),alt:p(T),class:"repeat-button__avatar-img"},null,8,qa)):(w(),S("span",Ya,D(f(T)),1))],4))),128))]),g.value>0?(w(),S("span",Xa,"+"+D(g.value),1)):G("",!0)])):G("",!0)]))}}),Za=ie(Ka,[["__scopeId","data-v-2c0ed62d"]]),Qa={class:"friends-bottom-sheet"},Ja={class:"friends-bottom-sheet__list"},eo={class:"friends-bottom-sheet__avatar-container"},to={class:"friends-bottom-sheet__avatar"},so=["src","alt"],no=["href"],io=V({__name:"FriendsBottomSheet",props:{friends:{default:()=>[]}},setup(t){const e=o=>{const c=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FECA57","#FF9FF3","#54A0FF","#5F27CD","#00D2D3","#FF9F43","#EE5A24","#0ABDE3","#10AC84","#F79F1F","#A3CB38"];let l=0;for(let p=0;p<o.length;p++)l=o.charCodeAt(p)+((l<<5)-l);return c[Math.abs(l)%c.length]},s=o=>"name"in o,n=o=>{if(s(o)){const p=o.name.split(" "),f=p[0]?.charAt(0)||"",h=p[1]?.charAt(0)||"";return(f+h).toUpperCase()||f.toUpperCase()||"U"}const c=o.first_name?.charAt(0)||"",l=o.last_name?.charAt(0)||"";return(c+l).toUpperCase()||o.first_name?.charAt(0)?.toUpperCase()||"U"},r=o=>{if(s(o))return o.name.toLowerCase().replace(/\s+/g,"_");const c=o.first_name?.toLowerCase()||"user",l=o.last_name?.toLowerCase()||"";return l?`${c}_${l}`:c},i=o=>s(o)?o.profile_photo_url||void 0:o.full_avatar_url||o.avatar_url||void 0,a=o=>s(o)?o.name:`${o.first_name||""} ${o.last_name||""}`.trim()||"User";return(o,c)=>(w(),S("div",Qa,[c[1]||(c[1]=_("div",{class:"friends-bottom-sheet__header"},[_("h2",{class:"friends-bottom-sheet__title"},"Репиты")],-1)),_("div",Ja,[(w(!0),S(te,null,ae(o.friends,l=>(w(),S("div",{key:l.id,class:"friends-bottom-sheet__item"},[_("div",eo,[_("div",to,[i(l)?(w(),S("img",{key:0,src:i(l),alt:a(l),class:"friends-bottom-sheet__avatar-img"},null,8,so)):(w(),S("span",{key:1,class:"friends-bottom-sheet__avatar-initials",style:ke({backgroundColor:e(a(l))})},D(n(l)),5))]),c[0]||(c[0]=_("div",{class:"friends-bottom-sheet__repeat-badge"}," R ",-1))]),_("a",{href:`https://t.me/${l.username||r(l)}`,target:"_blank",rel:"noopener noreferrer",class:"friends-bottom-sheet__username"}," @"+D(l.username||r(l)),9,no)]))),128))])]))}}),ro=ie(io,[["__scopeId","data-v-8ce1d660"]]),ao={class:"restaurant-card"},oo={class:"restaurant-card__hero-carousel"},lo={class:"restaurant-card__card"},co={class:"restaurant-card__content"},uo={key:0,class:"restaurant-card__full-description"},po=V({__name:"RestaurantCard",props:{restaurant:{},chefRecommendations:{default:()=>[]},contactInfo:{default:()=>({})}},emits:["showMenu","showBar","showPhotos"],setup(t,{emit:e}){const s=t,n=e,r=z(()=>s.restaurant?.images?.filter(v=>v?.pivot?.key==="cover")||[]),i=Gt(),a=z(()=>i.isLiking),o=z(()=>i.friends||[]),{open:c}=pe(),l=z(()=>{const T=[...o.value||[]];return i.likedByMe&&i.me&&!T.find(b=>b.id===i.me.id)&&T.unshift(i.me),T});function p(){const v=s.restaurant?.id;v&&i.toggleRestaurantLike(v)}function f(){c(ro,{friends:l.value},{showHandle:!0,closableByBackdrop:!0,closableBySwipe:!0,height:70,bottomGap:!0})}const h=()=>{n("showMenu")},g=()=>{n("showBar")},d=()=>{n("showPhotos")};return(v,T)=>(w(),S("div",ao,[_("div",oo,[L(Ne,{images:r.value,autoplay:4e3,height:"300px","show-pagination":!1},null,8,["images"]),L(Za,{class:"restaurant-card__like-button","is-repeated":M(i).likedByMe,"friends-count":l.value.length,friends:l.value,disabled:a.value,onToggle:p,onFriendsClick:f},null,8,["is-repeated","friends-count","friends","disabled"])]),_("div",lo,[_("div",co,[L(Ia,{restaurant:v.restaurant},null,8,["restaurant"]),L(Ha,{restaurant:v.restaurant},null,8,["restaurant"]),L(Na,{"contact-info":v.contactInfo,onShowMenu:h,onShowBar:g,onShowPhotos:d},null,8,["contact-info"])])]),v.restaurant?.description?(w(),S("div",uo,[L(xt,{text:v.restaurant.description,"character-limit":120,"expand-button-text":"еще","collapse-button-text":"свернуть","animation-duration":300,class:"restaurant-card__full-description-text"},null,8,["text"])])):G("",!0),L(xa,{"chef-recommendations":v.chefRecommendations},null,8,["chef-recommendations"]),v.restaurant?.slug?(w(),Y(ma,{key:1,slug:v.restaurant.slug},null,8,["slug"])):G("",!0),T[0]||(T[0]=_("div",{class:"restaurant-card__footer"},[_("p",{class:"restaurant-card__footer-text"},"By Eat.Drink.Repeat")],-1))]))}}),fo=ie(po,[["__scopeId","data-v-2dbe3455"]]),mo={class:"restaurant-media-bottom-sheet"},ho={class:"restaurant-media-bottom-sheet__header"},go={class:"restaurant-media-bottom-sheet__title"},vo={key:0,class:"restaurant-media-bottom-sheet__counter"},yo={class:"restaurant-media-bottom-sheet__content"},wo={key:1,class:"restaurant-media-bottom-sheet__empty"},bo={class:"restaurant-media-bottom-sheet__empty-icon"},_o={class:"restaurant-media-bottom-sheet__empty-text"},Le=V({__name:"RestaurantMediaBottomSheet",props:{type:{},restaurantName:{},files:{},initialIndex:{default:0},showFileInfo:{type:Boolean,default:!1}},setup(t){const e=t,s=R(e.initialIndex),n=R(null),r=z(()=>e.files),i=z(()=>{const c=e.restaurantName;switch(e.type){case"photos":return`Фотографии ${c}`;case"menu":return`Меню ${c}`;case"bar":return`Барная карта ${c}`;default:return`Медиа ${c}`}}),a=z(()=>{switch(e.type){case"photos":return"Фотографии ресторана пока не добавлены";case"menu":return"Меню ресторана пока не добавлено";case"bar":return"Барная карта пока не добавлена";default:return"Медиа файлы не найдены"}}),o=(c,l)=>{n.value=c,s.value=l};return r.value.length>0&&(n.value=r.value[e.initialIndex]||null),(c,l)=>(w(),S("div",mo,[_("div",ho,[_("h2",go,D(i.value),1),r.value.length>1?(w(),S("div",vo,D(s.value+1)+" из "+D(r.value.length),1)):G("",!0)]),_("div",yo,[r.value.length>0?(w(),Y(M(_n),{key:0,"media-files":r.value,"initial-index":c.initialIndex,onChange:o},null,8,["media-files","initial-index"])):(w(),S("div",wo,[_("div",bo,[L(M(U),{name:"mdi:image-off",size:"48"})]),_("div",_o,D(a.value),1)]))])]))}}),So=()=>{const{open:t}=pe();return{openPhotos:(i,a,o=0)=>t(Le,{type:"photos",restaurantName:i,files:a,initialIndex:o,showFileInfo:!1},{height:90,class:"restaurant-media-sheet",showHandle:!0,closableByBackdrop:!0,closableBySwipe:!0,bottomGap:!0}),openMenu:(i,a,o=0)=>t(Le,{type:"menu",restaurantName:i,files:a,initialIndex:o,showFileInfo:!0},{height:90,class:"restaurant-media-sheet",showHandle:!0,closableByBackdrop:!0,closableBySwipe:!0}),openBar:(i,a,o=0)=>t(Le,{type:"bar",restaurantName:i,files:a,initialIndex:o,showFileInfo:!0},{height:90,class:"restaurant-media-sheet",showHandle:!0,closableByBackdrop:!0,closableBySwipe:!0}),openMedia:(i,a,o,c=0,l=!1)=>t(Le,{type:i,restaurantName:a,files:o,initialIndex:c,showFileInfo:l},{height:90,class:"restaurant-media-sheet",showHandle:!0,closableByBackdrop:!0,closableBySwipe:!0})}},Co={class:"news-bottom-sheet"},To={key:0,class:"news-bottom-sheet__loading"},ko={key:1,class:"news-bottom-sheet__error"},xo={key:2,class:"news-bottom-sheet__content"},$o={class:"news-bottom-sheet__title"},Eo=["innerHTML"],Mo={key:3,class:"news-bottom-sheet__not-found"},Io=V({__name:"NewsBottomSheet",props:{slug:{},newsSlug:{}},setup(t){const e=R(null),s=R(!1),n=R(null),r=z(()=>(e.value?.images??[]).filter(o=>!!o.url).map(o=>({url:o.url,alt:o.name||e.value?.title}))),i=z(()=>rt(e.value?.description??""));return xe(async()=>{s.value=!0,n.value=null,e.value=null;try{const{data:a}=await le.get(`/api/site/restaurants/${t.slug}/news/${t.newsSlug}`);e.value=a}catch(a){n.value="Не удалось загрузить новость",console.error(a)}finally{s.value=!1}}),(a,o)=>(w(),S("div",Co,[s.value?(w(),S("div",To,[L(M(Ce))])):n.value?(w(),S("div",ko,D(n.value),1)):e.value?(w(),S("div",xo,[L(Ne,{images:r.value,autoplay:!1,height:"340px",showPagination:(e.value.images?.length||0)>1,paginationBottom:"12px","border-radius":"40px"},null,8,["images","showPagination"]),_("h1",$o,D(e.value.title),1),_("div",{class:"news-bottom-sheet__description",innerHTML:i.value},null,8,Eo)])):(w(),S("div",Mo,"Новость не найдена"))]))}}),Po=ie(Io,[["__scopeId","data-v-6078e6fc"]]),Lo={class:"restaurant-page"},Ao={key:0,class:"restaurant-page__loading"},Bo={key:1,class:"restaurant-page__error"},zo={key:2,class:"restaurant-page__wrapper"},Oo={key:3,class:"restaurant-page__not-found"},qo=V({__name:"RestaurantPage",props:{slug:{}},setup(t){const e=Yt(),{openMenu:s,openBar:n,openPhotos:r}=So(),i=De(),{restaurant:a,loading:o,error:c}=ue(i),l=Gt();bs(a);const p=z(()=>{const y=(a.value?.categories??[]).find(C=>C?.pivot?.key==="chief_recommendations");return Array.isArray(y?.dishes)?y.dishes:[]}),f=z(()=>({phone:a.value?.phone,telegram:a.value?.bot_username})),h=z(()=>(a.value?.images??[]).filter(y=>y?.pivot?.key==="gallery").map(y=>({...y,fileables_count:0,fileables_exists:!1}))),g=z(()=>(a.value?.files||[]).filter(y=>y?.pivot?.key==="menu").map(y=>({...y,fileables_count:0,fileables_exists:!1}))),d=z(()=>(a.value?.files||[]).filter(y=>y?.pivot?.key==="bar").map(y=>({...y,fileables_count:0,fileables_exists:!1}))),v=z(()=>a.value?.name||"Ресторан"),T=()=>{g.value.length!==0&&s(v.value,g.value,0)},b=()=>{d.value.length!==0&&n(v.value,d.value,0)},u=()=>{h.value.length!==0&&r(v.value,h.value,0)};return xe(async()=>{const m=t.slug||e.params.slug.toString();i.getRestaurantData(m);try{const y=window.Telegram?.WebApp;y?.ready(),(y?.initData??"")&&await l.authWithInitData(m);const x=y?.initDataUnsafe?.start_param;if(typeof x=="string"&&x.length>0){const $=x.slice(0,2),P=x.slice(2).replace(/^[_-]/,""),{open:k}=pe();$==="e_"&&P&&k(Wt,{slug:m,eventSlug:P},{height:90}),$==="n_"&&P&&k(Po,{slug:m,newsSlug:P},{height:90})}}catch{}}),(m,y)=>(w(),S("div",Lo,[M(o)?(w(),S("div",Ao,[L(M(Ce))])):M(c)?(w(),S("div",Bo,D(M(c)),1)):M(a)?(w(),S("div",zo,[L(fo,{restaurant:M(a),"chef-recommendations":p.value,"contact-info":f.value,onShowMenu:T,onShowBar:b,onShowPhotos:u},null,8,["restaurant","chef-recommendations","contact-info"])])):(w(),S("div",Oo,"Ресторан не найден"))]))}});export{qo as default};
