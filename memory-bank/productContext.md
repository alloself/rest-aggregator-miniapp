# Product Context - REST Aggregator Miniapp

## Проблема которую решаем
1. **Сложность создания Telegram присутствия**: Ресторанам сложно создать собственные Telegram боты и Mini Apps без технических знаний
2. **Отсутствие единой платформы**: Нет централизованного решения для управления ресторанным бизнесом в Telegram
3. **Высокие затраты на разработку**: Создание персонального Telegram Mini App требует значительных инвестиций
4. **Сложность интеграции**: Ресторанам нужна простая интеграция с существующими Telegram bot токенами
5. **Фрагментированный контент**: Меню, события и новости ресторанов разбросаны по разным платформам
6. **Отсутствие discovery**: Пользователям сложно находить релевантные рестораны и события

## Ценностное предложение
- **Plug-and-Play решение**: Ресторан указывает bot токен и получает готовое Mini App
- **Централизованное управление**: Единая платформа для всех ресторанов с централизованным контролем
- **Мгновенное развертывание**: Автоматическое создание и настройка Telegram Mini Apps
- **Простота использования**: Интуитивный личный кабинет для управления рестораном
- **Масштабируемость**: Платформа поддерживает неограниченное количество ресторанов
- **Content Discovery**: Умные подборки и рекомендации для пользователей
- **Social Features**: Система лайков и взаимодействий с контентом

## Основные функции платформы

### Управление контентом ресторанов
1. **Меню Management**:
   - Создание и редактирование блюд
   - Гибкая система категорий (многие-ко-многим)
   - Сезонные категории (например, "Летние блюда", "Новогоднее меню")
   - Ценообразование и описания
   - Фотографии блюд

2. **События (Events)**:
   - Создание ресторанных событий
   - Календарное планирование
   - Геолокация событий
   - Тематические события
   - Система бронирования

3. **Новости ресторанов**:
   - Публикация новостей и обновлений
   - Анонсы специальных предложений
   - Информация о временных изменениях

### Social Features
1. **Система лайков**:
   - Лайки для блюд в меню
   - Лайки для событий
   - Лайки для новостей
   - Популярность контента

2. **User Engagement**:
   - История взаимодействий
   - Персональные рекомендации
   - Избранные рестораны

### Агрегатор функции
1. **Умные подборки событий**:
   - **По календарю**: "События на выходные", "На эту неделю"
   - **По географии**: "Рядом с вами", "В центре города"
   - **Сезонные**: "Летние террасы", "Новогодние банкеты"
   - **Тематические**: "Живая музыка", "Детские мероприятия"

2. **Подборки меню**:
   - "Сезонные блюда в городе"
   - "Популярные блюда недели"
   - "Новинки меню"

3. **Новости агрегатора**:
   - Общие новости платформы
   - Тренды ресторанной индустрии
   - Сезонные рекомендации

## Пользовательские сценарии

### Основные пользователи:

#### 1. Владельцы ресторанов
**Управление меню**:
- Создает категории: "Основные блюда", "Сезонные", "Детское меню"
- Добавляет блюдо "Том Ям" в категории "Супы" и "Острые блюда"
- Обновляет сезонное меню на зиму

**Управление событиями**:
- Создает событие "Джазовый вечер на пятницу"
- Указывает дату, время, количество мест
- Добавляет геолокацию и описание

**Аналитика**:
- Просматривает лайки на блюда
- Анализирует популярность событий
- Отслеживает вовлеченность пользователей

#### 2. Посетители (через Mini Apps)
**Discovery контента**:
- Просматривает подборку "Сезонные блюда рядом"
- Лайкает понравившиеся блюда
- Добавляет рестораны в избранное

**Планирование посещений**:
- Ищет события "На эту неделю"
- Фильтрует по категориям: "Живая музыка"
- Бронирует столик на событие

#### 3. Администраторы платформы  
**Кураторские подборки**:
- Создает подборку "Лучшие летние террасы"
- Настраивает алгоритмы рекомендаций
- Модерирует контент ресторанов

**Аналитика платформы**:
- Отслеживает engagement по городам
- Анализирует популярные категории
- Создает тренд-отчеты

## Архитектура пользовательских интерфейсов

### 1. Публичный сайт (`/`)
- Презентация сервиса и его возможностей
- **Каталог ресторанов с меню preview**
- **Календарь событий по городам**
- **Популярные подборки ("Сезонные блюда", "События недели")**
- Регистрация новых ресторанов
- SEO-оптимизированные страницы

### 2. Личный кабинет ресторанов (`/restaurant`)
- Dashboard с ключевыми метриками и популярностью контента
- **Управление меню и категориями**
- **Создание и управление событиями**
- **Публикация новостей ресторана**
- **Аналитика лайков и взаимодействий**
- Настройки Telegram Mini App
- Управление профилем ресторана

### 3. Административная панель (`/admin`)
- Управление всеми ресторанами
- **Создание кураторских подборок**
- **Управление категориями и тегами**
- **Модерация контента (меню, события, новости)**
- **Аналитика engagement по платформе**
- **Публикация новостей агрегатора**
- Системные настройки

## Data Architecture Decisions

### Core Entities
```
Restaurants -> Menus -> Dishes -> Categories (many-to-many)
Restaurants -> Events (calendar, geo, categories)
Restaurants -> News
Users -> Likes (dishes, events, news)
Aggregator -> Curated Collections (events, dishes)
Aggregator -> Platform News
```

### Category System
- **Flexible categorization**: Блюдо может быть в нескольких категориях
- **Seasonal categories**: Автоматические сезонные теги
- **Admin-curated**: Администраторы могут создавать глобальные категории
- **Restaurant-specific**: Рестораны создают свои категории

### Engagement Tracking
- **Like system**: Для всех типов контента
- **View tracking**: Популярность и trending
- **User preferences**: Обучение рекомендательных алгоритмов

## Frontend Architecture Decisions

### Feature-Sliced Design (FSD) Updates
```
src/
├── app/                    # Конфигурация приложения
├── pages/                  # Страницы (site, restaurant, admin)
│   ├── restaurant-menu/    # Управление меню
│   ├── events-calendar/    # Календарь событий  
│   ├── collections/        # Подборки агрегатора
├── widgets/                # Составные UI блоки
│   ├── menu-widget/        # Виджет меню
│   ├── events-widget/      # Виджет событий
│   ├── likes-widget/       # Система лайков
├── features/               # Бизнес-фичи
│   ├── menu-management/    # Управление меню
│   ├── event-planning/     # Планирование событий
│   ├── content-curation/   # Создание подборок
│   ├── like-system/        # Система лайков
├── entities/               # Бизнес-сущности
│   ├── dish/              # Сущность блюда
│   ├── event/             # Сущность события
│   ├── category/          # Сущность категории
│   ├── collection/        # Сущность подборки
├── shared/                # Переиспользуемый код
```

### Technology Choices
- **shadcn-vue**: Готовые доступные компоненты для быстрой разработки
- **Pinia**: Complex state management для меню, событий, лайков
- **VeeValidate + Zod**: Type-safe валидация для сложных форм меню
- **SCSS + БЭМ**: Кастомная система стилизации
- **БЭМ + SCSS**: Для custom компонентов calendar, menu layouts

## Метрики успеха
- Время от регистрации ресторана до запуска первого меню < 15 минут
- Количество активных ресторанов на платформе
- **Среднее количество лайков на блюдо/событие**
- **CTR на подборки агрегатора**
- **Engagement rate в Mini Apps ресторанов**
- Конверсия с публичного сайта в посещение Mini Apps
- NPS score от владельцев ресторанов

## Пользовательский опыт

### Для ресторанов
- Интуитивный процесс создания меню с drag-and-drop категориями
- Календарный интерфейс для планирования событий
- Real-time статистика лайков и популярности
- Простое управление сезонными предложениями

### Для посетителей (Mini Apps)
- Персонализированные подборки на основе лайков
- Удобный календарь событий с фильтрами
- Быстрый поиск блюд по категориям и предпочтениям
- Social features для sharing любимых блюд

### Для администраторов
- Comprehensive overview engagement по всей платформе
- Инструменты для создания кураторских подборок
- Аналитика трендов и популярных категорий
- Модерация контента с batch operations 